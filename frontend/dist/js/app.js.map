{"version":3,"sources":["../deps/node_modules/browser-pack/_prelude.js","src/client.js","src/components/ActiveNotebook.js","src/components/DevTools.js","src/components/Home.js","src/components/MarkdownEditor.js","src/components/Note.js","src/components/NoteEdit.js","src/components/NoteNew.js","src/components/NoteView.js","src/components/Notebook.js","src/components/NotebookEdit.js","src/components/NotebookList.js","src/components/NotebookNew.js","src/components/NotebookView.js","src/components/Root.js","src/helpers/ajax.js","src/helpers/api.js","src/helpers/createActionDispatchers.js","src/helpers/createStore.js","src/reducers/index.js","src/reducers/notebooks.js","src/reducers/notes.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/**\n * This is the entry point for the JavaScript application which runs in the\n * web browser. We call `window.main` when the page loads, and use that\n * opportunity to create the Redux store and mount the root React component.\n */\n\nconst React = require('react');\nconst ReactDOM = require('react-dom');\n\nconst createStore = require('./helpers/createStore');\nconst Root = React.createFactory(require('./components/Root'));\n\n// Initialisation function which we will call on page load\nwindow.main = (initialState) => {\n  // Create root React component with Redux store\n  const store = createStore(initialState);\n  const rootComponent = Root({ store });\n\n  // Mount React root component in DOM\n  const mountPoint = document.getElementById('root');\n  ReactDOM.render(rootComponent, mountPoint);\n};\n","const React = require('react');\n\nconst NoteNew = require('./NoteNew');\nconst Note = require('./Note');\n\nclass ActiveNotebook extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n render() {\n   const createNoteComponent = (currentNote) => {\n      /* TODO Section 8: Add code for delete */\n      return (\n        <div>\n        <Note\n          key={currentNote.noteId}\n          note={currentNote}\n          saveNote={this.props.saveNote}\n          notebookId={this.props.notebookId}\n          deleteNote={this.props.deleteNote}\n        />\n        </div>\n      );\n    };\n\n    return(\n      <div>\n       <h2>{this.props.notebook.title}{/*'Inside notebooktitle activenotebook of ID '+this.props.notebook.id*/}</h2>\n         <ul>\n           {this.props.notes.map(createNoteComponent)}\n         </ul>\n       <NoteNew createNote={this.props.createNote} notebookId={this.props.notebookId}/>\n      </div>\n    );\n  }\n}\n\nmodule.exports = ActiveNotebook;","const React = require('react');\nconst ReduxDevtools = require('redux-devtools');\nconst DockMonitor = require('redux-devtools-dock-monitor').default;\nconst LogMonitor = require('redux-devtools-log-monitor').default;\n\nconst InternalDevTools = ReduxDevtools.createDevTools(\n  <DockMonitor toggleVisibilityKey=\"h\" changePositionKey=\"q\" defaultIsVisible={false}>\n    <LogMonitor />\n  </DockMonitor>\n);\n\nclass DevTools extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { isMounted: false };\n  }\n\n  static instrument(...args) {\n    return InternalDevTools.instrument(...args);\n  }\n\n  componentDidMount() {\n    this.setState({ isMounted: true });\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.isMounted && <InternalDevTools />}\n      </div>\n    );\n  }\n}\n\n/**\n * Redux development tools (useful for debugging).\n */\nmodule.exports = DevTools;\n","/**\n * This file contains the Home component.\n * Other React components for viewing notes and notebooks should be nested\n * beneath the Home component.\n */\n\nconst React = require('react');\n\nconst NotebookList = require('./NotebookList');\n\n/*\n  *** TODO: Start building the frontend from here ***\n  You should remove the placeholder text and modify the component as you see\n  fit while working on the assignment.\n*/\nconst Home = () => (\n  <div className=\"container\">\n    <h1>Neverwrote</h1>\n    <p>\n      Never say I never wrote that down.\n    </p>\n    <NotebookList />\n  </div>\n);\n\nmodule.exports = Home;\n","const React = require('react');\n\n/**\n * A markdown editor. Markdown is a very simple language for formatting\n * text that can be converted into HTML.\n */\nclass MarkdownEditor extends React.Component {\n  componentDidMount() {\n    // SimpleMDE must be required here since it's browser-only.\n    const SimpleMDE = require('simplemde');\n\n    // Turn our plain old text area into a beautiful markdown editor\n    this.simpleMDE = new SimpleMDE({\n      indentWithTabs: false,\n      status: false,\n      autoDownloadFontAwesome: false,\n      element: this.textarea\n    });\n\n    // Put initial text in the editor\n    this.simpleMDE.value(this.props.value);\n\n    // Listen for changes and fire a callback\n    this.simpleMDE.codemirror.on('change', () => {\n      const newText = this.simpleMDE.value();\n      if(newText !== this.props.value) {\n        this.props.onChange({ target: { value: newText } });\n      }\n    });\n  }\n\n  componentDidUpdate() {\n    // Replace the text in the editor, preserving the cursor position and\n    // selection info\n    const selections = this.simpleMDE.codemirror.listSelections();\n    this.simpleMDE.value(this.props.value);\n    this.simpleMDE.codemirror.setSelections(selections);\n  }\n\n  // Describe how to render the component\n  render() {\n    const ref = (element) => { this.textarea = element; };\n    return (\n      <textarea ref={ref} />\n    );\n  }\n}\n\n// Export the component so that it can be required\nmodule.exports = MarkdownEditor;\n","const React = require('react');\n\nconst NoteEdit = require('./NoteEdit');\nconst NoteView = require('./NoteView');\n\nclass Note extends React.Component {\n  constructor(props) {\n    super(props);\n    // Set initial internal state for this component\n    this.state = { editing: false };\n  }\n\n  render() {\n    const openEdit = () => {\n      this.setState({ editing: true });\n    };\n\n    const closeEdit = () => {\n      this.setState({ editing: false });\n    };\n\n    const saveEdit = (editedNote) => {\n      this.props.saveNote(editedNote, (err) => {\n        if(!err) closeEdit();\n      });\n    };\n\n    // TODO Section 8: Add code for delete\n    const deleteThisNote = () => {\n      this.props.deleteNote(this.props.note.id);\n    };\n\n    if(this.state.editing) {\n      // Render component for editing the post\n      return (\n        <NoteEdit\n          note={this.props.note}\n          onNoteSave={saveEdit}\n          onCancel={closeEdit}\n          notebookId={this.props.notebookId}\n        />\n      );\n    }\n    // Render read-only view of the post\n    // TODO Section 8: add code for delete\n    return (\n      <NoteView\n        note={this.props.note}\n        onDeleteNote={deleteThisNote}\n        onEdit={openEdit}\n      />\n    );\n  }\n}\n\n// Export the Note component\nmodule.exports = Note;","const React = require('react');\nconst _ = require('lodash');\nconst MarkdownEditor =require('./MarkdownEditor');\n\n/**\n * A form for editing a blog post.\n */\nclass NoteEdit extends React.Component {\n  constructor(props) {\n    super(props);\n    const note = props.note || {};\n\n    this.state = {\n      title: note.title || '',\n      content: note.content || '',\n      notebookId: this.props.notebookId\n    };\n  }\n\n  render() {\n    const revertAndStopEditing = (event) => {\n      event.preventDefault();\n      this.props.onCancel();\n    };\n\n    const submitAndStopEditing = (event) => {\n      event.preventDefault();\n      // Creates a new post object and saves it.\n      const editedNote = _.assign({}, this.props.note, {\n        title: this.state.title,\n        content: this.state.content,\n        notebookId: this.props.notebookId\n      });\n      this.props.onNoteSave(editedNote);\n    };\n\n    const onTitleChange = (event) => {\n      this.setState({ title: event.target.value });\n    };\n\n    const onContentChange = (event) => {\n      this.setState({ content: event.target.value });\n    };\n\n    return (\n      <form className=\"blog-post\">\n        {/* Title field */}\n        <div className=\"form-group\">\n          <input className=\"form-control input-lg\" value={this.state.title}\n            placeholder=\"Note title\" onChange={onTitleChange}\n          />\n        </div>\n        {/* Content field */}\n        <div>\n          <MarkdownEditor value={this.props.value} onChange={onContentChange}/>\n        </div>\n        {/* Save button */}\n        <button className=\"btn btn-default pull-right\"\n          onClick={submitAndStopEditing}\n        >\n          Save\n        </button>\n        {/* Cancel button */}\n        <button className=\"btn btn-default pull-right\"\n          style={{ marginRight: '12px' }}\n          onClick={revertAndStopEditing}\n        >\n          Cancel\n        </button>\n      </form>\n    );\n  }\n}\n\nmodule.exports = NoteEdit;","const React = require('react');\nconst NoteEdit = require('./NoteEdit');\n\n/**\n * A button which expands into a form for writing a new NOte.\n */\nclass NoteNew extends React.Component {\n  constructor(props) {\n    super(props);\n    // Set initial internal state for this component\n    this.state = { editing: false };\n  }\n\n  render() {\n    const openEdit = () => {\n      this.setState({ editing: true });\n    };\n\n    const closeEdit = () => {\n      this.setState({ editing: false });\n    };\n\n    const createNote = (newNote) => {\n      this.props.createNote(newNote, (err) => {\n        if(!err) closeEdit();\n      });\n    };\n\n    // TODO Section 7: Write code to switch to create New not edit mode when editing is clicked\n        if (this.state.editing) {\n      // Render component for editing the post\n      return (\n        <NoteEdit\n          note={this.props.note}\n          onNoteSave={createNote}\n          content={this.props.content}\n          onCancel={closeEdit}\n          notebookId={this.props.notebookId}\n        />\n      );\n    }\n\n    return (\n     <button className=\"blog-load-more btn btn-primary btn-lg\"\n        onClick={openEdit}\n      >\n        +NewNote\n      </button>\n\n    );\n  }\n}\n\nmodule.exports = NoteNew;\n","const React = require('react');\nconst moment = require('moment');\n\nclass NoteView extends React.Component{\n  constructor(props){\n    super(props);\n    this.state={dispContent:false};\n  }\n  render(){\n    const onEdit = (event) => {\n      event.preventDefault();\n      this.props.onEdit(this.props.note.id);\n    }\n    const DisplayContent=(event)=>{\n      event.preventDefault();\n      const toggle = this.state.dispContent? false:true;\n    \tthis.setState({dispContent:toggle});\n  };\n\n  const deleteNote=(event)=>{\n    event.preventDefault();\n    this.props.onDeleteNote(this.props.note.id);\n  }\n  return (\n    <li className=\"blog-post\" key={this.props.note.id}>\n      <button onClick={deleteNote} className=\"btn btn-danger\"><i className=\"fa fa-trash\">Delete</i></button>\n      <a role = 'button' className='Note-Title' onClick={DisplayContent}>\n        {this.props.note.title}\n      </a>\n      <a role=\"button\" title=\"Edit post\"\n        style={{ paddingRight: '8px' }}\n        onClick={onEdit}>\n        {/* Edit button to edit Note title and content */}\n        <span className=\"fa fa-edit\" />\n      </a>\n      {/*logical operator to display content depending on click of Note Title*/}\n      {this.state.dispContent && <p>{this.props.note.content}</p>}\n    </li>\n  );\n }\n}\n\nmodule.exports = NoteView;\n","const React = require('react');\n\n\nconst NotebookView = require('./NotebookView');\n\nclass Notebook extends React.Component {\n  constructor(props) {\n    super(props);\n    // Set initial internal state for this component\n  //  this.state = { editing: false };\n  }\n\n  render() {\n    const deleteThisNotebook = () => {\n      this.props.deleteNotebook(this.props.notebook.id);\n    };\n\n    return(\n      <NotebookView\n        notebook={this.props.notebook}\n        onDelete={deleteThisNotebook}\n        loadData={this.props.loadData}\n        setActive={this.props.setActive}\n      />\n    );\n  }\n}\n\nmodule.exports = Notebook;","const React = require('react');\nconst _ = require('lodash');\n\n/**\n * A form for editing a blog Notebook.\n */\nclass NotebookEdit extends React.Component {\n  constructor(props) {\n    super(props);\n    const notebook = props.notebook || {};\n\n    this.state = {\n      title: notebook.title || ''\n    };\n  }\n\n  render() {\n    const revertAndStopEditing = (event) => {\n      event.preventDefault();\n      this.props.onCancel();\n    };\n\n    const submitAndStopEditing = (event) => {\n      event.preventDefault();\n      // Creates a new Notebook object and saves it.\n      const editedNotebook = _.assign({}, this.props.notebook, {\n        title: this.state.title\n        //content: this.state.content\n      });\n      this.props.onSave(editedNotebook);\n    };\n\n    const onTitleChange = (event) => {\n      this.setState({ title: event.target.value });\n    };\n\n    return (\n      <form className=\"blog-post\">\n        {/* Title field */}\n        <div className=\"form-group\">\n          <input className=\"form-control input-lg\" value={this.state.title}\n            placeholder=\"Notebook title\" onChange={onTitleChange}\n          />\n        </div>\n\n        {/* Save button */}\n        <button className=\"btn btn-default pull-right\"\n          onClick={submitAndStopEditing}\n        >\n          Save\n        </button>\n        {/* Cancel button */}\n        <button className=\"btn btn-default pull-right\"\n          style={{ marginRight: '12px' }}\n          onClick={revertAndStopEditing}\n        >\n          Cancel\n        </button>\n      </form>\n    );\n  }\n}\n\nmodule.exports = NotebookEdit;","const React = require('react');\nconst ReactRedux = require('react-redux');\nconst _ = require('lodash');\n\nconst createActionDispatchers = require('../helpers/createActionDispatchers');\nconst notebooksActionCreators = require('../reducers/notebooks');\nconst notesActionCreators = require('../reducers/notes');\nconst Notebook = require('./Notebook')\nconst ActiveNotebook = require('./ActiveNotebook');\nconst NotebookNew = require('./NotebookNew');\n\n/*\n  *** TODO: Build more functionality into the NotebookList component ***\n  At the moment, the NotebookList component simply renders the notebooks\n  as a plain list containing their titles. This code is just a starting point,\n  you will need to build upon it in order to complete the assignment.\n*/\nclass NotebookList extends React.Component {\n  render() {\n    const createNotebookListItem = (notebook) => {\n      if(notebook.id == this.props.notebooks.activeNotebookId){\n        return (\n          <ActiveNotebook\n          key={notebook.id}\n          notebook={notebook}\n          notebookId={notebook.id}/// was missing this one to pass to child comp\n          notes={this.props.notes.notes}\n          createNote={this.props.createNote}\n          deleteNote={this.props.deleteNote}\n          saveNote={this.props.saveNote}\n         // notes={loadData(this.props.notebook.id)}\n          loadData={this.props.loadData}\n          //data={this.props.data}\n          />\n        );\n      }\n      return(\n          <Notebook\n          key={notebook.id}\n          notebook={notebook}\n          loadData={this.props.loadData}\n          deleteNotebook={this.props.deleteNotebook}\n          setActive={this.props.setActive}// added to test set active notebook\n          />\n        )\n      }\n\n    return (\n      <div>\n        <h2>Notebooks</h2>\n        <h2>It should be working!</h2>\n        <div id = 'top-bar-create-notebook'>\n          {/* Button for writing a new notebook */}\n          {<NotebookNew createNotebook={this.props.createNotebook}\n          />}\n        </div>\n\n        <ul>\n          {this.props.notebooks.data.map(createNotebookListItem)}\n        </ul>\n      </div>\n    );\n  }\n}\n\nconst NotebookListContainer = ReactRedux.connect(\n  state => ({\n    notebooks: state.notebooks,\n    activeNotebookId: state.notebooks.activeNotebookId,\n    data: state.data,\n    notes: state.notes\n  }),\n  createActionDispatchers(notebooksActionCreators, notesActionCreators)\n)(NotebookList);\n\nmodule.exports = NotebookListContainer;\n","const React = require('react');\nconst NotebookEdit = require('./NotebookEdit');\n\n/**\n * A button which expands into a form for writing a new post.\n */\nclass NotebookNew extends React.Component {\n  constructor(props) {\n    super(props);\n    // Set initial internal state for this component\n    this.state = { editing: false };\n  }\n\n  render() {\n    const openEdit = () => {\n      this.setState({ editing: true });\n    };\n\n    const closeEdit = () => {\n      this.setState({ editing: false });\n    };\n\n    const createNotebook = (NewNotebook) => {\n      this.props.createNotebook(NewNotebook, (err) => {\n        if(!err) closeEdit();\n      });\n    };\n\n    // TODO Section 7: Write code to switch to create New not edit mode when editing is clicked\n        if (this.state.editing) {\n      // Render component for editing the post\n      return (\n        <NotebookEdit\n          Notebook={this.props.Notebook}\n          onSave={createNotebook}\n          onCancel={closeEdit}\n        />\n      );\n    }\n\n    return (\n      <button className=\"blog-load-more btn btn-primary btn-lg\"\n        onClick={openEdit}\n      >\n       +NewNotebook\n      </button>\n    );\n  }\n}\n\nmodule.exports = NotebookNew;\n","const React = require('react');\nconst moment = require('moment');\n//const NoteList = require('./NoteList');\nconst NoteNew = require('./NoteNew');\n\nclass NotebookView extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n      const onClickNotebook = (event) => {\n    \tevent.preventDefault();\n      console.log(this.props.notebook.id);\n    \tthis.props.loadData(this.props.notebook.id);\n      this.props.setActive(this.props.notebook.id);// added to test active notebook\n\n  };\n\n  const DeleteNotebook = (event) => {\n    event.preventDefault();\n    this.props.onDelete(this.props.notebook.id);\n  }\n\n  return (\n    <div className=\"blog-notebook\">\n      <h3 className=\"blog-notebook-title\">\n       <a onClick={onClickNotebook}>\n        <li>{this.props.notebook.title}</li>\n       </a>\n       <button onClick={DeleteNotebook} className='btn btn-danger'><i className=\"fa fa-trash\"> Delete</i></button>\n      </h3>\n    </div>\n  );\n};\n}\n\nmodule.exports = NotebookView;","/**\n * The root React component from which all other components on the page are\n * descended. It is this component which is directly mounted on the DOM.\n */\n\nconst React = require('react');\nconst ReactRedux = require('react-redux');\n\nconst Provider = ReactRedux.Provider;\nconst Home = require('./Home');\n\n// Enable development tools when in development mode\nlet DevTools = 'span';\nif(process.env.NODE_ENV === 'development') {\n  DevTools = require('./DevTools');\n}\n\n// Define the Root component\nconst Root = props => (\n  /* The Provider gives descendants the ability to connect to the Redux store */\n  <Provider store={props.store}>\n    <div>\n      {/* The Home component contains the guts of the page */}\n      <Home />\n      {/* DevTools is just an empty element when not in development mode */}\n      <DevTools />\n    </div>\n  </Provider>\n);\n\nmodule.exports = Root;\n","/**\n * This helper file provides a set of functions for performing HTTP requests.\n * It will work on both the backend and the frontend.\n */\n\nconst ajax = {};\n\nif(process.env.IN_BROWSER) {\n  ajax.request = opts => new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    xhr.addEventListener('error', () => {\n      reject(new Error('Request failed'));\n    });\n    xhr.addEventListener('load', () => {\n      if(xhr.status !== 200) {\n        reject(new Error(`Received status ${xhr.status}`));\n      } else {\n        resolve(opts.json ? JSON.parse(xhr.responseText) : xhr.responseText);\n      }\n    });\n    xhr.open(opts.method, opts.url);\n    if(opts.json) {\n      xhr.setRequestHeader('Content-Type', 'application/json');\n      xhr.send(opts.data !== undefined ? JSON.stringify(opts.data) : opts.data);\n    } else {\n      xhr.send(opts.data);\n    }\n  });\n} else {\n  const request = require('request');\n\n  ajax.request = opts => new Promise((resolve, reject) => {\n    request({\n      url: opts.url,\n      method: opts.method,\n      body: opts.data,\n      json: opts.json\n    }, (error, response, body) => {\n      if(error) {\n        reject(error);\n      } else if(response.statusCode !== 200) {\n        reject(new Error(`Received status ${response.statusCode}`));\n      } else {\n        resolve(body);\n      }\n    });\n  });\n}\n\nmodule.exports = ajax;\n","/**\n * This helper file provides a set of functions for communicating with the\n * backend API. It will work on both the backend and the frontend.\n */\n\nconst ajax = require('./ajax');\n\nconst api = {};\n\nif(process.env.IN_BROWSER) {\n  api.baseUrl = '/api';\n} else {\n  api.baseUrl = 'http://api:3000';\n}\n\napi.get = function(path) {\n  return ajax.request({\n    method: 'GET',\n    url: this.baseUrl + path,\n    json: true\n  });\n};\n\napi.post = function(path, data) {\n  return ajax.request({\n    method: 'POST',\n    url: this.baseUrl + path,\n    json: true,\n    data\n  });\n};\n\napi.put = function(path, data) {\n  return ajax.request({\n    method: 'PUT',\n    url: this.baseUrl + path,\n    json: true,\n    data\n  });\n};\n\napi.delete = function(path) {\n  return ajax.request({\n    method: 'DELETE',\n    url: this.baseUrl + path,\n    json: true\n  });\n};\n\nmodule.exports = api;\n","/**\n * Returns a function that, when given a dispatch function, returns an\n * object containing a bunch of action dispatchers.\n */\nconst createActionDispatchers = (...actionCreatorGroups) => dispatch =>\n  // Iterate over actionCreatorsArray, which is an array of arrays of action\n  // creators\n  actionCreatorGroups.reduce((actionDispatchers, actionCreators) => {\n    // Add an action dispatcher for each action creator in actionCreators\n    Object.keys(actionCreators)\n      .filter((name) => (typeof actionCreators[name] === 'function'))\n      .forEach((name) => {\n        actionDispatchers[name] = function(...actionCreatorArgs) {\n          return dispatch(actionCreators[name].apply(this, actionCreatorArgs));\n        };\n      });\n    return actionDispatchers;\n  }, {});\n\nmodule.exports = createActionDispatchers;\n","/**\n * This helper file provides a function for creating the Redux store. In\n * development mode it will also connect up the Redux development tools for\n * debugging purposes.\n */\n\nconst Redux = require('redux');\nconst reduxThunk = require('redux-thunk').default;\nconst combinedReducers = require('../reducers');\n\nlet finalCreateStore;\n\nif(process.env.NODE_ENV === 'production') {\n  finalCreateStore = Redux.compose(\n    // Enables middleware\n    Redux.applyMiddleware(reduxThunk)\n  )(Redux.createStore);\n} else {\n  const DevTools = require('../components/DevTools');\n\n  finalCreateStore = Redux.compose(\n    // Enables middleware\n    Redux.applyMiddleware(reduxThunk),\n    // Enables DevTools\n    DevTools.instrument()\n  )(Redux.createStore);\n}\n\nmodule.exports = initialState => finalCreateStore(combinedReducers, initialState);\n","/**\n * Specify all of your reducers in this file, so they can be combined into\n * one big reducer.\n */\n\nconst Redux = require('redux');\n\nmodule.exports = Redux.combineReducers({\n  notebooks: require('./notebooks'),\n  notes: require('./notes'),\n  /* *** TODO: Put any other reducers in here *** */\n  // eg. `notes: require('./notes')` if you have a reducer in reducers/notes.js\n});\n","const _ = require('lodash');\nconst api = require('../helpers/api');\nconst notesActionReducer = require('./notes');\n\n// Action type constants\n/* *** TODO: Put action constants here *** */\nconst SET_ACTIVE = 'blog-frontend/notebooks/SET_ACTIVE';\nconst INSERT = 'blog-frontend/notebooks/INSERT';\nconst REMOVE = 'blog-frontend/notebooks/REMOVE';\n\nconst initialState = {\n  data: [\n    { id: 100, title: 'From Redux Store: A hard-coded notebook' },\n    { id: 101, title: 'From Redux Store: Another hard-coded notebook' },\n  ],\n  activeNotebookId: -1,\n  notes: [],\n};\n\n// Function which takes the current data state and an action,\n// and returns a new state\nfunction reducer(state, action) {\n  state = state || initialState;\n  action = action || {};\n\n  switch(action.type) {\n    /* *** TODO: Put per-action code here *** */\n    case INSERT:{\n      const unsortedNotebooks = _.concat(state.data, action.notebooks);\n      const data = _.orderBy(unsortedNotebooks, 'createdAt','desc');\n      // Return updated state\n      return _.assign({}, state, { data} );\n    }\n\n    case REMOVE: {\n      const data = _.reject(state.data, {id: action.id});\n      return _.assign({}, state, { data });\n    }\n\n    case SET_ACTIVE: {\n      console.log('activeNotebookId  ' + state.activeNotebookId);\n    \treturn _.assign({}, state, { activeNotebookId: action.notebookId });\n    }\n\n    default: return state;\n  }\n}\n\n// Action creators\n/* *** TODO: Put action creators here *** */\n// Inserts notebooks into the NotebookList\nreducer.insertNotebooks = (notebooks) => {\n  return{type: INSERT, notebooks};\n};\n\n// Removes a post from the visible post list\nreducer.removeNotebook = (id) => {\n  return { type: REMOVE, id };\n};\n\nreducer.setActive = (notebookId) => {\n  //console.log(id);\n  return {type: SET_ACTIVE, notebookId};\n};\n\n// Attempts to save notebook in server/database and inserts it in data to display\n// in front end\nreducer.createNotebook = (newNotebook, callback) => {\n  return (dispatch) => {\n    api.post('/notebooks', newNotebook).then((notebook) => {\n      // This Notebook is one that the store returns us! It has Notebook id incremented to the next available id\n      dispatch(reducer.insertNotebooks([notebook]));\n      console.log('createNotebook in notebooks');\n      callback();\n    }).catch(() => {\n      alert('Failed to create Notebook \"FROM notebooks REDUCER\". Are all of the fields filled in correctly?');\n    });\n  };\n};\n\n// Attempts to delete a notebook from the server and removes it from the data\n// Notebook list if successful\nreducer.deleteNotebook = (id) => {\n  return (dispatch) => {\n    api.delete('/notebooks/' + id).then((notebook) => {\n      dispatch(reducer.removeNotebook(id));\n    }).catch(() => {\n      alert('Failed to delete Notebook.  Are all of the fields filled in correctly?');\n    });\n  };\n};\n\nreducer.loadData = (notebookId) => {\n\treturn (dispatch) => {\n    console.log('/notebooks/' + notebookId + '/notes')\n      dispatch(notesActionReducer.loadNotes(notebookId));\n      //dispatch({ type: SET_ACTIVE, notebookId });\n  };\n};\n/*reducer.loadData = (notebookId) => {\n\treturn (dispatch) => {\n      dispatch({ type: SET_ACTIVE, notebookId });\n      dispatch(notesActionReducer.loadNotes(notebookId));\n  };\n};*/\n// Export the action creators and reducer\nmodule.exports = reducer;\n","const _ = require('lodash');\nconst api = require('../helpers/api');\nconst notesbooksActionReducer = require('./notebooks');\n\nconst FETCH = 'blog-frontend/notes/FETCH';\nconst GET_NOTES = 'blog-frontend/notebooks/GET_NOTES';\nconst INSERT = 'blog-frontend/notes/INSERT';\nconst CHANGE = 'blog-frontend/notes/CHANGE';\nconst REMOVE = 'blog-frontend/notes/REMOVE';\n\nconst initialState = {\n  notes: [\n  ],\n  notebookId: -1\n};\n\nfunction reducer(state, action) {\n  state = state || initialState;\n  action = action || {};\n\n  switch(action.type) {\n      /* *** TODO: Put per-action code here *** */\n      case INSERT:{\n      const unsortedNotes = _.concat(state.notes, action.note);\n      const visibleNotes = _.orderBy(unsortedNotes, 'createdAt','desc');\n      // Return updated state\n      return _.assign({}, state, {notes:visibleNotes} );\n    }\n\n\n    case GET_NOTES: {\n      const notes = _.orderBy(action.notes, 'createdAt','desc');\n      return _.assign({}, state, {notes, notebookId: action.notebookId} );\n    }\n\n    case CHANGE: {\n      const notes = _.clone(state.notes);\n      const changedIndex = _.findIndex(state.notes, {id: action.note.id })\n      notes[changedIndex] = action.note;\n      return _.assign({}, state, { notes });\n    }\n\n    // Removes a single post from the visible post list\n    case REMOVE: {\n      const notes = _.reject(state.notes, {id: action.id});\n      return _.assign({}, state, { notes });\n    }\n\n    default: return state;\n  }\n}\n\n// Action creators\n/* *** TODO: Put action creators here *** */\nreducer.insertNotes = (note) => {\n  return{type: INSERT, note};\n};\n\n// Changes local post data\nreducer.changeNote = (note) => {\n  return { type: CHANGE, note };\n};\n\n// Delete Note\n// Removes a post from the visible note list\nreducer.removeNote = (id) => {\n  return { type: REMOVE, id };\n};\n\n// Attempts to delete a post from the server and removes it from the visible\n// post list if successful\nreducer.deleteNote = (noteId) => {\n   // TODO Section 8: Add code to perform delete\n   return (dispatch) => {\n    api.delete('/notes/' + noteId).then(() => {\n      dispatch(reducer.removeNote(noteId));\n    }).catch(() => {\n      alert('Failed to delete note.  Are all of the fields filled in correctly?');\n    });\n  };\n};\n\n// Attempts to update a post on the server and updates local post data if\n// successful\nreducer.saveNote = (editedNote, callback) => {\n  return (dispatch) => {\n    api.put('/notes/' + editedNote.id, editedNote).then((note) => {\n      // Saves local post.\n      dispatch(reducer.changeNote(note));\n      callback();\n    }).catch(() => {\n      alert('Failed to save post.  Are all of the fields filled in correctly?');\n    });\n  };\n};\n// Attempts to save note in server/database and inserts it in data to display\n// in front end\nreducer.createNote=(note,callback)=>{\n  return (dispatch)=>{\n    api.post('/notes',note).then((note) => {\n      //console.log(newNoteId);\n      // This Notebook is one that the store returns us! It has Notebook id incremented to the next available id\n      dispatch(reducer.insertNotes(note));\n      //callback();\n    })\n    .catch(err=>alert(err.message));\n  };\n};\n\n// Method to load notes which is called via notebooks reducer\nreducer.loadNotes = (notebookId) => {\n\treturn (dispatch) => {\n    api.get('/notebooks/' + notebookId + '/notes').then((notes) => {\n      dispatch({ type: GET_NOTES, notebookId, notes })\n    }).catch((error) => {\n      (error);\n    });\n };\n};\n\n// Action creator for loading an notebook's notes\nmodule.exports = reducer;"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2RlcHMvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9jbGllbnQuanMiLCJzcmMvY29tcG9uZW50cy9BY3RpdmVOb3RlYm9vay5qcyIsInNyYy9jb21wb25lbnRzL0RldlRvb2xzLmpzIiwic3JjL2NvbXBvbmVudHMvSG9tZS5qcyIsInNyYy9jb21wb25lbnRzL01hcmtkb3duRWRpdG9yLmpzIiwic3JjL2NvbXBvbmVudHMvTm90ZS5qcyIsInNyYy9jb21wb25lbnRzL05vdGVFZGl0LmpzIiwic3JjL2NvbXBvbmVudHMvTm90ZU5ldy5qcyIsInNyYy9jb21wb25lbnRzL05vdGVWaWV3LmpzIiwic3JjL2NvbXBvbmVudHMvTm90ZWJvb2suanMiLCJzcmMvY29tcG9uZW50cy9Ob3RlYm9va0VkaXQuanMiLCJzcmMvY29tcG9uZW50cy9Ob3RlYm9va0xpc3QuanMiLCJzcmMvY29tcG9uZW50cy9Ob3RlYm9va05ldy5qcyIsInNyYy9jb21wb25lbnRzL05vdGVib29rVmlldy5qcyIsInNyYy9jb21wb25lbnRzL1Jvb3QuanMiLCJzcmMvaGVscGVycy9hamF4LmpzIiwic3JjL2hlbHBlcnMvYXBpLmpzIiwic3JjL2hlbHBlcnMvY3JlYXRlQWN0aW9uRGlzcGF0Y2hlcnMuanMiLCJzcmMvaGVscGVycy9jcmVhdGVTdG9yZS5qcyIsInNyYy9yZWR1Y2Vycy9pbmRleC5qcyIsInNyYy9yZWR1Y2Vycy9ub3RlYm9va3MuanMiLCJzcmMvcmVkdWNlcnMvbm90ZXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBOzs7Ozs7QUFNQSxJQUFNLFFBQVEsUUFBUSxPQUFSLENBQWQ7QUFDQSxJQUFNLFdBQVcsUUFBUSxXQUFSLENBQWpCOztBQUVBLElBQU0sY0FBYyxRQUFRLHVCQUFSLENBQXBCO0FBQ0EsSUFBTSxPQUFPLE1BQU0sYUFBTixDQUFvQixRQUFRLG1CQUFSLENBQXBCLENBQWI7O0FBRUE7QUFDQSxPQUFP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RCxLQU5EO0FBT0QsR0FSRDtBQVNELENBVkQ7QUFXQTtBQUNBO0FBQ0EsUUFBUSxVQUFSLEdBQW1CLFVBQUMsSUFBRCxFQUFNLFFBQU4sRUFBaUI7QUFDbEMsU0FBTyxVQUFDLFFBQUQsRUFBWTtBQUNqQixRQUFJLElBQUosQ0FBUyxRQUFULEVBQWtCLElBQWxCLEVBQXdCLElBQXhCLENBQTZCLFVBQUMsSUFBRCxFQUFVO0FBQ3JDO0FBQ0E7QUFDQSxlQUFTLFFBQVEsV0FBUixDQUFvQixJQUFwQixDQUFUO0FBQ0E7QUFDRCxLQUxELEVBTUMsS0FORCxDQU1PO0FBQUEsYUFBSyxNQUFNLElBQUksT0FBVixDQUFMO0FBQUEsS0FOUDtBQU9ELEdBUkQ7QUFTRCxDQVZEOztBQVlBO0FBQ0EsUUFBUSxTQUFSLEdBQW9CLFVBQUMsVUFBRCxFQUFnQjtBQUNuQyxTQUFPLFVBQUMsUUFBRCxFQUFjO0FBQ2xCLFFBQUksR0FBSixDQUFRLGdCQUFnQixVQUFoQixHQUE2QixRQUFyQyxFQUErQyxJQUEvQyxDQUFvRCxVQUFDLEtBQUQsRUFBVztBQUM3RCxlQUFTLEVBQUUsTUFBTSxTQUFSLEVBQW1CLHNCQUFuQixFQUErQixZQUEvQixFQUFUO0FBQ0QsS0FGRCxFQUVHLEtBRkgsQ0FFUyxVQUFDLEtBQUQsRUFBVztBQUNqQixXQUFEO0FBQ0QsS0FKRDtBQUtGLEdBTkQ7QUFPQSxDQVJEOztBQVVBO0FBQ0EsT0FBTyxPQUFQLEdBQWlCLE9BQWpCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqXG4gKiBUaGlzIGlzIHRoZSBlbnRyeSBwb2ludCBmb3IgdGhlIEphdmFTY3JpcHQgYXBwbGljYXRpb24gd2hpY2ggcnVucyBpbiB0aGVcbiAqIHdlYiBicm93c2VyLiBXZSBjYWxsIGB3aW5kb3cubWFpbmAgd2hlbiB0aGUgcGFnZSBsb2FkcywgYW5kIHVzZSB0aGF0XG4gKiBvcHBvcnR1bml0eSB0byBjcmVhdGUgdGhlIFJlZHV4IHN0b3JlIGFuZCBtb3VudCB0aGUgcm9vdCBSZWFjdCBjb21wb25lbnQuXG4gKi9cblxuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3QgUmVhY3RET00gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxuY29uc3QgY3JlYXRlU3RvcmUgPSByZXF1aXJlKCcuL2hlbHBlcnMvY3JlYXRlU3RvcmUnKTtcbmNvbnN0IFJvb3QgPSBSZWFjdC5jcmVhdGVGYWN0b3J5KHJlcXVpcmUoJy4vY29tcG9uZW50cy9Sb290JykpO1xuXG4vLyBJbml0aWFsaXNhdGlvbiBmdW5jdGlvbiB3aGljaCB3ZSB3aWxsIGNhbGwgb24gcGFnZSBsb2FkXG53aW5kb3cubWFpbiA9IChpbml0aWFsU3RhdGUpID0+IHtcbiAgLy8gQ3JlYXRlIHJvb3QgUmVhY3QgY29tcG9uZW50IHdpdGggUmVkdXggc3RvcmVcbiAgY29uc3Qgc3RvcmUgPSBjcmVhdGVTdG9yZShpbml0aWFsU3RhdGUpO1xuICBjb25zdCByb290Q29tcG9uZW50ID0gUm9vdCh7IHN0b3JlIH0pO1xuXG4gIC8vIE1vdW50IFJlYWN0IHJvb3QgY29tcG9uZW50IGluIERPTVxuICBjb25zdCBtb3VudFBvaW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKTtcbiAgUmVhY3RET00ucmVuZGVyKHJvb3RDb21wb25lbnQsIG1vdW50UG9pbnQpO1xufTtcbiIsImNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuY29uc3QgTm90ZU5ldyA9IHJlcXVpcmUoJy4vTm90ZU5ldycpO1xuY29uc3QgTm90ZSA9IHJlcXVpcmUoJy4vTm90ZScpO1xuXG5jbGFzcyBBY3RpdmVOb3RlYm9vayBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICB9XG4gcmVuZGVyKCkge1xuICAgY29uc3QgY3JlYXRlTm90ZUNvbXBvbmVudCA9IChjdXJyZW50Tm90ZSkgPT4ge1xuICAgICAgLyogVE9ETyBTZWN0aW9uIDg6IEFkZCBjb2RlIGZvciBkZWxldGUgKi9cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgIDxOb3RlXG4gICAgICAgICAga2V5PXtjdXJyZW50Tm90ZS5ub3RlSWR9XG4gICAgICAgICAgbm90ZT17Y3VycmVudE5vdGV9XG4gICAgICAgICAgc2F2ZU5vdGU9e3RoaXMucHJvcHMuc2F2ZU5vdGV9XG4gICAgICAgICAgbm90ZWJvb2tJZD17dGhpcy5wcm9wcy5ub3RlYm9va0lkfVxuICAgICAgICAgIGRlbGV0ZU5vdGU9e3RoaXMucHJvcHMuZGVsZXRlTm90ZX1cbiAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4oXG4gICAgICA8ZGl2PlxuICAgICAgIDxoMj57dGhpcy5wcm9wcy5ub3RlYm9vay50aXRsZX17LyonSW5zaWRlIG5vdGVib29rdGl0bGUgYWN0aXZlbm90ZWJvb2sgb2YgSUQgJyt0aGlzLnByb3BzLm5vdGVib29rLmlkKi99PC9oMj5cbiAgICAgICAgIDx1bD5cbiAgICAgICAgICAge3RoaXMucHJvcHMubm90ZXMubWFwKGNyZWF0ZU5vdGVDb21wb25lbnQpfVxuICAgICAgICAgPC91bD5cbiAgICAgICA8Tm90ZU5ldyBjcmVhdGVOb3RlPXt0aGlzLnByb3BzLmNyZWF0ZU5vdGV9IG5vdGVib29rSWQ9e3RoaXMucHJvcHMubm90ZWJvb2tJZH0vPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFjdGl2ZU5vdGVib29rOyIsImNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbmNvbnN0IFJlZHV4RGV2dG9vbHMgPSByZXF1aXJlKCdyZWR1eC1kZXZ0b29scycpO1xuY29uc3QgRG9ja01vbml0b3IgPSByZXF1aXJlKCdyZWR1eC1kZXZ0b29scy1kb2NrLW1vbml0b3InKS5kZWZhdWx0O1xuY29uc3QgTG9nTW9uaXRvciA9IHJlcXVpcmUoJ3JlZHV4LWRldnRvb2xzLWxvZy1tb25pdG9yJykuZGVmYXVsdDtcblxuY29uc3QgSW50ZXJuYWxEZXZUb29scyA9IFJlZHV4RGV2dG9vbHMuY3JlYXRlRGV2VG9vbHMoXG4gIDxEb2NrTW9uaXRvciB0b2dnbGVWaXNpYmlsaXR5S2V5PVwiaFwiIGNoYW5nZVBvc2l0aW9uS2V5PVwicVwiIGRlZmF1bHRJc1Zpc2libGU9e2ZhbHNlfT5cbiAgICA8TG9nTW9uaXRvciAvPlxuICA8L0RvY2tNb25pdG9yPlxuKTtcblxuY2xhc3MgRGV2VG9vbHMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0geyBpc01vdW50ZWQ6IGZhbHNlIH07XG4gIH1cblxuICBzdGF0aWMgaW5zdHJ1bWVudCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIEludGVybmFsRGV2VG9vbHMuaW5zdHJ1bWVudCguLi5hcmdzKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBpc01vdW50ZWQ6IHRydWUgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIHt0aGlzLnN0YXRlLmlzTW91bnRlZCAmJiA8SW50ZXJuYWxEZXZUb29scyAvPn1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZWR1eCBkZXZlbG9wbWVudCB0b29scyAodXNlZnVsIGZvciBkZWJ1Z2dpbmcpLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IERldlRvb2xzO1xuIiwiLyoqXG4gKiBUaGlzIGZpbGUgY29udGFpbnMgdGhlIEhvbWUgY29tcG9uZW50LlxuICogT3RoZXIgUmVhY3QgY29tcG9uZW50cyBmb3Igdmlld2luZyBub3RlcyBhbmQgbm90ZWJvb2tzIHNob3VsZCBiZSBuZXN0ZWRcbiAqIGJlbmVhdGggdGhlIEhvbWUgY29tcG9uZW50LlxuICovXG5cbmNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuY29uc3QgTm90ZWJvb2tMaXN0ID0gcmVxdWlyZSgnLi9Ob3RlYm9va0xpc3QnKTtcblxuLypcbiAgKioqIFRPRE86IFN0YXJ0IGJ1aWxkaW5nIHRoZSBmcm9udGVuZCBmcm9tIGhlcmUgKioqXG4gIFlvdSBzaG91bGQgcmVtb3ZlIHRoZSBwbGFjZWhvbGRlciB0ZXh0IGFuZCBtb2RpZnkgdGhlIGNvbXBvbmVudCBhcyB5b3Ugc2VlXG4gIGZpdCB3aGlsZSB3b3JraW5nIG9uIHRoZSBhc3NpZ25tZW50LlxuKi9cbmNvbnN0IEhvbWUgPSAoKSA9PiAoXG4gIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgPGgxPk5ldmVyd3JvdGU8L2gxPlxuICAgIDxwPlxuICAgICAgTmV2ZXIgc2F5IEkgbmV2ZXIgd3JvdGUgdGhhdCBkb3duLlxuICAgIDwvcD5cbiAgICA8Tm90ZWJvb2tMaXN0IC8+XG4gIDwvZGl2PlxuKTtcblxubW9kdWxlLmV4cG9ydHMgPSBIb21lO1xuIiwiY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG4vKipcbiAqIEEgbWFya2Rvd24gZWRpdG9yLiBNYXJrZG93biBpcyBhIHZlcnkgc2ltcGxlIGxhbmd1YWdlIGZvciBmb3JtYXR0aW5nXG4gKiB0ZXh0IHRoYXQgY2FuIGJlIGNvbnZlcnRlZCBpbnRvIEhUTUwuXG4gKi9cbmNsYXNzIE1hcmtkb3duRWRpdG9yIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgLy8gU2ltcGxlTURFIG11c3QgYmUgcmVxdWlyZWQgaGVyZSBzaW5jZSBpdCdzIGJyb3dzZXItb25seS5cbiAgICBjb25zdCBTaW1wbGVNREUgPSByZXF1aXJlKCdzaW1wbGVtZGUnKTtcblxuICAgIC8vIFR1cm4gb3VyIHBsYWluIG9sZCB0ZXh0IGFyZWEgaW50byBhIGJlYXV0aWZ1bCBtYXJrZG93biBlZGl0b3JcbiAgICB0aGlzLnNpbXBsZU1ERSA9IG5ldyBTaW1wbGVNREUoe1xuICAgICAgaW5kZW50V2l0aFRhYnM6IGZhbHNlLFxuICAgICAgc3RhdHVzOiBmYWxzZSxcbiAgICAgIGF1dG9Eb3dubG9hZEZvbnRBd2Vzb21lOiBmYWxzZSxcbiAgICAgIGVsZW1lbnQ6IHRoaXMudGV4dGFyZWFcbiAgICB9KTtcblxuICAgIC8vIFB1dCBpbml0aWFsIHRleHQgaW4gdGhlIGVkaXRvclxuICAgIHRoaXMuc2ltcGxlTURFLnZhbHVlKHRoaXMucHJvcHMudmFsdWUpO1xuXG4gICAgLy8gTGlzdGVuIGZvciBjaGFuZ2VzIGFuZCBmaXJlIGEgY2FsbGJhY2tcbiAgICB0aGlzLnNpbXBsZU1ERS5jb2RlbWlycm9yLm9uKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBjb25zdCBuZXdUZXh0ID0gdGhpcy5zaW1wbGVNREUudmFsdWUoKTtcbiAgICAgIGlmKG5ld1RleHQgIT09IHRoaXMucHJvcHMudmFsdWUpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh7IHRhcmdldDogeyB2YWx1ZTogbmV3VGV4dCB9IH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIC8vIFJlcGxhY2UgdGhlIHRleHQgaW4gdGhlIGVkaXRvciwgcHJlc2VydmluZyB0aGUgY3Vyc29yIHBvc2l0aW9uIGFuZFxuICAgIC8vIHNlbGVjdGlvbiBpbmZvXG4gICAgY29uc3Qgc2VsZWN0aW9ucyA9IHRoaXMuc2ltcGxlTURFLmNvZGVtaXJyb3IubGlzdFNlbGVjdGlvbnMoKTtcbiAgICB0aGlzLnNpbXBsZU1ERS52YWx1ZSh0aGlzLnByb3BzLnZhbHVlKTtcbiAgICB0aGlzLnNpbXBsZU1ERS5jb2RlbWlycm9yLnNldFNlbGVjdGlvbnMoc2VsZWN0aW9ucyk7XG4gIH1cblxuICAvLyBEZXNjcmliZSBob3cgdG8gcmVuZGVyIHRoZSBjb21wb25lbnRcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHJlZiA9IChlbGVtZW50KSA9PiB7IHRoaXMudGV4dGFyZWEgPSBlbGVtZW50OyB9O1xuICAgIHJldHVybiAoXG4gICAgICA8dGV4dGFyZWEgcmVmPXtyZWZ9IC8+XG4gICAgKTtcbiAgfVxufVxuXG4vLyBFeHBvcnQgdGhlIGNvbXBvbmVudCBzbyB0aGF0IGl0IGNhbiBiZSByZXF1aXJlZFxubW9kdWxlLmV4cG9ydHMgPSBNYXJrZG93bkVkaXRvcjtcbiIsImNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuY29uc3QgTm90ZUVkaXQgPSByZXF1aXJlKCcuL05vdGVFZGl0Jyk7XG5jb25zdCBOb3RlVmlldyA9IHJlcXVpcmUoJy4vTm90ZVZpZXcnKTtcblxuY2xhc3MgTm90ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIC8vIFNldCBpbml0aWFsIGludGVybmFsIHN0YXRlIGZvciB0aGlzIGNvbXBvbmVudFxuICAgIHRoaXMuc3RhdGUgPSB7IGVkaXRpbmc6IGZhbHNlIH07XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qgb3BlbkVkaXQgPSAoKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZWRpdGluZzogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2xvc2VFZGl0ID0gKCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVkaXRpbmc6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBzYXZlRWRpdCA9IChlZGl0ZWROb3RlKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLnNhdmVOb3RlKGVkaXRlZE5vdGUsIChlcnIpID0+IHtcbiAgICAgICAgaWYoIWVycikgY2xvc2VFZGl0KCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gVE9ETyBTZWN0aW9uIDg6IEFkZCBjb2RlIGZvciBkZWxldGVcbiAgICBjb25zdCBkZWxldGVUaGlzTm90ZSA9ICgpID0+IHtcbiAgICAgIHRoaXMucHJvcHMuZGVsZXRlTm90ZSh0aGlzLnByb3BzLm5vdGUuaWQpO1xuICAgIH07XG5cbiAgICBpZih0aGlzLnN0YXRlLmVkaXRpbmcpIHtcbiAgICAgIC8vIFJlbmRlciBjb21wb25lbnQgZm9yIGVkaXRpbmcgdGhlIHBvc3RcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxOb3RlRWRpdFxuICAgICAgICAgIG5vdGU9e3RoaXMucHJvcHMubm90ZX1cbiAgICAgICAgICBvbk5vdGVTYXZlPXtzYXZlRWRpdH1cbiAgICAgICAgICBvbkNhbmNlbD17Y2xvc2VFZGl0fVxuICAgICAgICAgIG5vdGVib29rSWQ9e3RoaXMucHJvcHMubm90ZWJvb2tJZH1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIC8vIFJlbmRlciByZWFkLW9ubHkgdmlldyBvZiB0aGUgcG9zdFxuICAgIC8vIFRPRE8gU2VjdGlvbiA4OiBhZGQgY29kZSBmb3IgZGVsZXRlXG4gICAgcmV0dXJuIChcbiAgICAgIDxOb3RlVmlld1xuICAgICAgICBub3RlPXt0aGlzLnByb3BzLm5vdGV9XG4gICAgICAgIG9uRGVsZXRlTm90ZT17ZGVsZXRlVGhpc05vdGV9XG4gICAgICAgIG9uRWRpdD17b3BlbkVkaXR9XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn1cblxuLy8gRXhwb3J0IHRoZSBOb3RlIGNvbXBvbmVudFxubW9kdWxlLmV4cG9ydHMgPSBOb3RlOyIsImNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IE1hcmtkb3duRWRpdG9yID1yZXF1aXJlKCcuL01hcmtkb3duRWRpdG9yJyk7XG5cbi8qKlxuICogQSBmb3JtIGZvciBlZGl0aW5nIGEgYmxvZyBwb3N0LlxuICovXG5jbGFzcyBOb3RlRWRpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIGNvbnN0IG5vdGUgPSBwcm9wcy5ub3RlIHx8IHt9O1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHRpdGxlOiBub3RlLnRpdGxlIHx8ICcnLFxuICAgICAgY29udGVudDogbm90ZS5jb250ZW50IHx8ICcnLFxuICAgICAgbm90ZWJvb2tJZDogdGhpcy5wcm9wcy5ub3RlYm9va0lkXG4gICAgfTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCByZXZlcnRBbmRTdG9wRWRpdGluZyA9IChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMucHJvcHMub25DYW5jZWwoKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc3VibWl0QW5kU3RvcEVkaXRpbmcgPSAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAvLyBDcmVhdGVzIGEgbmV3IHBvc3Qgb2JqZWN0IGFuZCBzYXZlcyBpdC5cbiAgICAgIGNvbnN0IGVkaXRlZE5vdGUgPSBfLmFzc2lnbih7fSwgdGhpcy5wcm9wcy5ub3RlLCB7XG4gICAgICAgIHRpdGxlOiB0aGlzLnN0YXRlLnRpdGxlLFxuICAgICAgICBjb250ZW50OiB0aGlzLnN0YXRlLmNvbnRlbnQsXG4gICAgICAgIG5vdGVib29rSWQ6IHRoaXMucHJvcHMubm90ZWJvb2tJZFxuICAgICAgfSk7XG4gICAgICB0aGlzLnByb3BzLm9uTm90ZVNhdmUoZWRpdGVkTm90ZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uVGl0bGVDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB0aXRsZTogZXZlbnQudGFyZ2V0LnZhbHVlIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBvbkNvbnRlbnRDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBjb250ZW50OiBldmVudC50YXJnZXQudmFsdWUgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBjbGFzc05hbWU9XCJibG9nLXBvc3RcIj5cbiAgICAgICAgey8qIFRpdGxlIGZpZWxkICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIGlucHV0LWxnXCIgdmFsdWU9e3RoaXMuc3RhdGUudGl0bGV9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk5vdGUgdGl0bGVcIiBvbkNoYW5nZT17b25UaXRsZUNoYW5nZX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgey8qIENvbnRlbnQgZmllbGQgKi99XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPE1hcmtkb3duRWRpdG9yIHZhbHVlPXt0aGlzLnByb3BzLnZhbHVlfSBvbkNoYW5nZT17b25Db250ZW50Q2hhbmdlfS8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7LyogU2F2ZSBidXR0b24gKi99XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IHB1bGwtcmlnaHRcIlxuICAgICAgICAgIG9uQ2xpY2s9e3N1Ym1pdEFuZFN0b3BFZGl0aW5nfVxuICAgICAgICA+XG4gICAgICAgICAgU2F2ZVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgey8qIENhbmNlbCBidXR0b24gKi99XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IHB1bGwtcmlnaHRcIlxuICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiAnMTJweCcgfX1cbiAgICAgICAgICBvbkNsaWNrPXtyZXZlcnRBbmRTdG9wRWRpdGluZ31cbiAgICAgICAgPlxuICAgICAgICAgIENhbmNlbFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZm9ybT5cbiAgICApO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTm90ZUVkaXQ7IiwiY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3QgTm90ZUVkaXQgPSByZXF1aXJlKCcuL05vdGVFZGl0Jyk7XG5cbi8qKlxuICogQSBidXR0b24gd2hpY2ggZXhwYW5kcyBpbnRvIGEgZm9ybSBmb3Igd3JpdGluZyBhIG5ldyBOT3RlLlxuICovXG5jbGFzcyBOb3RlTmV3IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgLy8gU2V0IGluaXRpYWwgaW50ZXJuYWwgc3RhdGUgZm9yIHRoaXMgY29tcG9uZW50XG4gICAgdGhpcy5zdGF0ZSA9IHsgZWRpdGluZzogZmFsc2UgfTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBvcGVuRWRpdCA9ICgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0aW5nOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBjbG9zZUVkaXQgPSAoKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZWRpdGluZzogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNyZWF0ZU5vdGUgPSAobmV3Tm90ZSkgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5jcmVhdGVOb3RlKG5ld05vdGUsIChlcnIpID0+IHtcbiAgICAgICAgaWYoIWVycikgY2xvc2VFZGl0KCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gVE9ETyBTZWN0aW9uIDc6IFdyaXRlIGNvZGUgdG8gc3dpdGNoIHRvIGNyZWF0ZSBOZXcgbm90IGVkaXQgbW9kZSB3aGVuIGVkaXRpbmcgaXMgY2xpY2tlZFxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5lZGl0aW5nKSB7XG4gICAgICAvLyBSZW5kZXIgY29tcG9uZW50IGZvciBlZGl0aW5nIHRoZSBwb3N0XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Tm90ZUVkaXRcbiAgICAgICAgICBub3RlPXt0aGlzLnByb3BzLm5vdGV9XG4gICAgICAgICAgb25Ob3RlU2F2ZT17Y3JlYXRlTm90ZX1cbiAgICAgICAgICBjb250ZW50PXt0aGlzLnByb3BzLmNvbnRlbnR9XG4gICAgICAgICAgb25DYW5jZWw9e2Nsb3NlRWRpdH1cbiAgICAgICAgICBub3RlYm9va0lkPXt0aGlzLnByb3BzLm5vdGVib29rSWR9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYmxvZy1sb2FkLW1vcmUgYnRuIGJ0bi1wcmltYXJ5IGJ0bi1sZ1wiXG4gICAgICAgIG9uQ2xpY2s9e29wZW5FZGl0fVxuICAgICAgPlxuICAgICAgICArTmV3Tm90ZVxuICAgICAgPC9idXR0b24+XG5cbiAgICApO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTm90ZU5ldztcbiIsImNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbmNvbnN0IG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG5jbGFzcyBOb3RlVmlldyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcbiAgY29uc3RydWN0b3IocHJvcHMpe1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlPXtkaXNwQ29udGVudDpmYWxzZX07XG4gIH1cbiAgcmVuZGVyKCl7XG4gICAgY29uc3Qgb25FZGl0ID0gKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5wcm9wcy5vbkVkaXQodGhpcy5wcm9wcy5ub3RlLmlkKTtcbiAgICB9XG4gICAgY29uc3QgRGlzcGxheUNvbnRlbnQ9KGV2ZW50KT0+e1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IHRvZ2dsZSA9IHRoaXMuc3RhdGUuZGlzcENvbnRlbnQ/IGZhbHNlOnRydWU7XG4gICAgXHR0aGlzLnNldFN0YXRlKHtkaXNwQ29udGVudDp0b2dnbGV9KTtcbiAgfTtcblxuICBjb25zdCBkZWxldGVOb3RlPShldmVudCk9PntcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMucHJvcHMub25EZWxldGVOb3RlKHRoaXMucHJvcHMubm90ZS5pZCk7XG4gIH1cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwiYmxvZy1wb3N0XCIga2V5PXt0aGlzLnByb3BzLm5vdGUuaWR9PlxuICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtkZWxldGVOb3RlfSBjbGFzc05hbWU9XCJidG4gYnRuLWRhbmdlclwiPjxpIGNsYXNzTmFtZT1cImZhIGZhLXRyYXNoXCI+RGVsZXRlPC9pPjwvYnV0dG9uPlxuICAgICAgPGEgcm9sZSA9ICdidXR0b24nIGNsYXNzTmFtZT0nTm90ZS1UaXRsZScgb25DbGljaz17RGlzcGxheUNvbnRlbnR9PlxuICAgICAgICB7dGhpcy5wcm9wcy5ub3RlLnRpdGxlfVxuICAgICAgPC9hPlxuICAgICAgPGEgcm9sZT1cImJ1dHRvblwiIHRpdGxlPVwiRWRpdCBwb3N0XCJcbiAgICAgICAgc3R5bGU9e3sgcGFkZGluZ1JpZ2h0OiAnOHB4JyB9fVxuICAgICAgICBvbkNsaWNrPXtvbkVkaXR9PlxuICAgICAgICB7LyogRWRpdCBidXR0b24gdG8gZWRpdCBOb3RlIHRpdGxlIGFuZCBjb250ZW50ICovfVxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmYSBmYS1lZGl0XCIgLz5cbiAgICAgIDwvYT5cbiAgICAgIHsvKmxvZ2ljYWwgb3BlcmF0b3IgdG8gZGlzcGxheSBjb250ZW50IGRlcGVuZGluZyBvbiBjbGljayBvZiBOb3RlIFRpdGxlKi99XG4gICAgICB7dGhpcy5zdGF0ZS5kaXNwQ29udGVudCAmJiA8cD57dGhpcy5wcm9wcy5ub3RlLmNvbnRlbnR9PC9wPn1cbiAgICA8L2xpPlxuICApO1xuIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBOb3RlVmlldztcbiIsImNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuXG5jb25zdCBOb3RlYm9va1ZpZXcgPSByZXF1aXJlKCcuL05vdGVib29rVmlldycpO1xuXG5jbGFzcyBOb3RlYm9vayBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIC8vIFNldCBpbml0aWFsIGludGVybmFsIHN0YXRlIGZvciB0aGlzIGNvbXBvbmVudFxuICAvLyAgdGhpcy5zdGF0ZSA9IHsgZWRpdGluZzogZmFsc2UgfTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBkZWxldGVUaGlzTm90ZWJvb2sgPSAoKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLmRlbGV0ZU5vdGVib29rKHRoaXMucHJvcHMubm90ZWJvb2suaWQpO1xuICAgIH07XG5cbiAgICByZXR1cm4oXG4gICAgICA8Tm90ZWJvb2tWaWV3XG4gICAgICAgIG5vdGVib29rPXt0aGlzLnByb3BzLm5vdGVib29rfVxuICAgICAgICBvbkRlbGV0ZT17ZGVsZXRlVGhpc05vdGVib29rfVxuICAgICAgICBsb2FkRGF0YT17dGhpcy5wcm9wcy5sb2FkRGF0YX1cbiAgICAgICAgc2V0QWN0aXZlPXt0aGlzLnByb3BzLnNldEFjdGl2ZX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE5vdGVib29rOyIsImNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxuLyoqXG4gKiBBIGZvcm0gZm9yIGVkaXRpbmcgYSBibG9nIE5vdGVib29rLlxuICovXG5jbGFzcyBOb3RlYm9va0VkaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICBjb25zdCBub3RlYm9vayA9IHByb3BzLm5vdGVib29rIHx8IHt9O1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHRpdGxlOiBub3RlYm9vay50aXRsZSB8fCAnJ1xuICAgIH07XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgcmV2ZXJ0QW5kU3RvcEVkaXRpbmcgPSAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLnByb3BzLm9uQ2FuY2VsKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHN1Ym1pdEFuZFN0b3BFZGl0aW5nID0gKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgLy8gQ3JlYXRlcyBhIG5ldyBOb3RlYm9vayBvYmplY3QgYW5kIHNhdmVzIGl0LlxuICAgICAgY29uc3QgZWRpdGVkTm90ZWJvb2sgPSBfLmFzc2lnbih7fSwgdGhpcy5wcm9wcy5ub3RlYm9vaywge1xuICAgICAgICB0aXRsZTogdGhpcy5zdGF0ZS50aXRsZVxuICAgICAgICAvL2NvbnRlbnQ6IHRoaXMuc3RhdGUuY29udGVudFxuICAgICAgfSk7XG4gICAgICB0aGlzLnByb3BzLm9uU2F2ZShlZGl0ZWROb3RlYm9vayk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uVGl0bGVDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB0aXRsZTogZXZlbnQudGFyZ2V0LnZhbHVlIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gY2xhc3NOYW1lPVwiYmxvZy1wb3N0XCI+XG4gICAgICAgIHsvKiBUaXRsZSBmaWVsZCAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJOb3RlYm9vayB0aXRsZVwiIG9uQ2hhbmdlPXtvblRpdGxlQ2hhbmdlfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBTYXZlIGJ1dHRvbiAqL31cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgcHVsbC1yaWdodFwiXG4gICAgICAgICAgb25DbGljaz17c3VibWl0QW5kU3RvcEVkaXRpbmd9XG4gICAgICAgID5cbiAgICAgICAgICBTYXZlXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICB7LyogQ2FuY2VsIGJ1dHRvbiAqL31cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgcHVsbC1yaWdodFwiXG4gICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6ICcxMnB4JyB9fVxuICAgICAgICAgIG9uQ2xpY2s9e3JldmVydEFuZFN0b3BFZGl0aW5nfVxuICAgICAgICA+XG4gICAgICAgICAgQ2FuY2VsXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9mb3JtPlxuICAgICk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBOb3RlYm9va0VkaXQ7IiwiY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3QgUmVhY3RSZWR1eCA9IHJlcXVpcmUoJ3JlYWN0LXJlZHV4Jyk7XG5jb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbmNvbnN0IGNyZWF0ZUFjdGlvbkRpc3BhdGNoZXJzID0gcmVxdWlyZSgnLi4vaGVscGVycy9jcmVhdGVBY3Rpb25EaXNwYXRjaGVycycpO1xuY29uc3Qgbm90ZWJvb2tzQWN0aW9uQ3JlYXRvcnMgPSByZXF1aXJlKCcuLi9yZWR1Y2Vycy9ub3RlYm9va3MnKTtcbmNvbnN0IG5vdGVzQWN0aW9uQ3JlYXRvcnMgPSByZXF1aXJlKCcuLi9yZWR1Y2Vycy9ub3RlcycpO1xuY29uc3QgTm90ZWJvb2sgPSByZXF1aXJlKCcuL05vdGVib29rJylcbmNvbnN0IEFjdGl2ZU5vdGVib29rID0gcmVxdWlyZSgnLi9BY3RpdmVOb3RlYm9vaycpO1xuY29uc3QgTm90ZWJvb2tOZXcgPSByZXF1aXJlKCcuL05vdGVib29rTmV3Jyk7XG5cbi8qXG4gICoqKiBUT0RPOiBCdWlsZCBtb3JlIGZ1bmN0aW9uYWxpdHkgaW50byB0aGUgTm90ZWJvb2tMaXN0IGNvbXBvbmVudCAqKipcbiAgQXQgdGhlIG1vbWVudCwgdGhlIE5vdGVib29rTGlzdCBjb21wb25lbnQgc2ltcGx5IHJlbmRlcnMgdGhlIG5vdGVib29rc1xuICBhcyBhIHBsYWluIGxpc3QgY29udGFpbmluZyB0aGVpciB0aXRsZXMuIFRoaXMgY29kZSBpcyBqdXN0IGEgc3RhcnRpbmcgcG9pbnQsXG4gIHlvdSB3aWxsIG5lZWQgdG8gYnVpbGQgdXBvbiBpdCBpbiBvcmRlciB0byBjb21wbGV0ZSB0aGUgYXNzaWdubWVudC5cbiovXG5jbGFzcyBOb3RlYm9va0xpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY3JlYXRlTm90ZWJvb2tMaXN0SXRlbSA9IChub3RlYm9vaykgPT4ge1xuICAgICAgaWYobm90ZWJvb2suaWQgPT0gdGhpcy5wcm9wcy5ub3RlYm9va3MuYWN0aXZlTm90ZWJvb2tJZCl7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPEFjdGl2ZU5vdGVib29rXG4gICAgICAgICAga2V5PXtub3RlYm9vay5pZH1cbiAgICAgICAgICBub3RlYm9vaz17bm90ZWJvb2t9XG4gICAgICAgICAgbm90ZWJvb2tJZD17bm90ZWJvb2suaWR9Ly8vIHdhcyBtaXNzaW5nIHRoaXMgb25lIHRvIHBhc3MgdG8gY2hpbGQgY29tcFxuICAgICAgICAgIG5vdGVzPXt0aGlzLnByb3BzLm5vdGVzLm5vdGVzfVxuICAgICAgICAgIGNyZWF0ZU5vdGU9e3RoaXMucHJvcHMuY3JlYXRlTm90ZX1cbiAgICAgICAgICBkZWxldGVOb3RlPXt0aGlzLnByb3BzLmRlbGV0ZU5vdGV9XG4gICAgICAgICAgc2F2ZU5vdGU9e3RoaXMucHJvcHMuc2F2ZU5vdGV9XG4gICAgICAgICAvLyBub3Rlcz17bG9hZERhdGEodGhpcy5wcm9wcy5ub3RlYm9vay5pZCl9XG4gICAgICAgICAgbG9hZERhdGE9e3RoaXMucHJvcHMubG9hZERhdGF9XG4gICAgICAgICAgLy9kYXRhPXt0aGlzLnByb3BzLmRhdGF9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybihcbiAgICAgICAgICA8Tm90ZWJvb2tcbiAgICAgICAgICBrZXk9e25vdGVib29rLmlkfVxuICAgICAgICAgIG5vdGVib29rPXtub3RlYm9va31cbiAgICAgICAgICBsb2FkRGF0YT17dGhpcy5wcm9wcy5sb2FkRGF0YX1cbiAgICAgICAgICBkZWxldGVOb3RlYm9vaz17dGhpcy5wcm9wcy5kZWxldGVOb3RlYm9va31cbiAgICAgICAgICBzZXRBY3RpdmU9e3RoaXMucHJvcHMuc2V0QWN0aXZlfS8vIGFkZGVkIHRvIHRlc3Qgc2V0IGFjdGl2ZSBub3RlYm9va1xuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8aDI+Tm90ZWJvb2tzPC9oMj5cbiAgICAgICAgPGgyPkl0IHNob3VsZCBiZSB3b3JraW5nITwvaDI+XG4gICAgICAgIDxkaXYgaWQgPSAndG9wLWJhci1jcmVhdGUtbm90ZWJvb2snPlxuICAgICAgICAgIHsvKiBCdXR0b24gZm9yIHdyaXRpbmcgYSBuZXcgbm90ZWJvb2sgKi99XG4gICAgICAgICAgezxOb3RlYm9va05ldyBjcmVhdGVOb3RlYm9vaz17dGhpcy5wcm9wcy5jcmVhdGVOb3RlYm9va31cbiAgICAgICAgICAvPn1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPHVsPlxuICAgICAgICAgIHt0aGlzLnByb3BzLm5vdGVib29rcy5kYXRhLm1hcChjcmVhdGVOb3RlYm9va0xpc3RJdGVtKX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuY29uc3QgTm90ZWJvb2tMaXN0Q29udGFpbmVyID0gUmVhY3RSZWR1eC5jb25uZWN0KFxuICBzdGF0ZSA9PiAoe1xuICAgIG5vdGVib29rczogc3RhdGUubm90ZWJvb2tzLFxuICAgIGFjdGl2ZU5vdGVib29rSWQ6IHN0YXRlLm5vdGVib29rcy5hY3RpdmVOb3RlYm9va0lkLFxuICAgIGRhdGE6IHN0YXRlLmRhdGEsXG4gICAgbm90ZXM6IHN0YXRlLm5vdGVzXG4gIH0pLFxuICBjcmVhdGVBY3Rpb25EaXNwYXRjaGVycyhub3RlYm9va3NBY3Rpb25DcmVhdG9ycywgbm90ZXNBY3Rpb25DcmVhdG9ycylcbikoTm90ZWJvb2tMaXN0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBOb3RlYm9va0xpc3RDb250YWluZXI7XG4iLCJjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5jb25zdCBOb3RlYm9va0VkaXQgPSByZXF1aXJlKCcuL05vdGVib29rRWRpdCcpO1xuXG4vKipcbiAqIEEgYnV0dG9uIHdoaWNoIGV4cGFuZHMgaW50byBhIGZvcm0gZm9yIHdyaXRpbmcgYSBuZXcgcG9zdC5cbiAqL1xuY2xhc3MgTm90ZWJvb2tOZXcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICAvLyBTZXQgaW5pdGlhbCBpbnRlcm5hbCBzdGF0ZSBmb3IgdGhpcyBjb21wb25lbnRcbiAgICB0aGlzLnN0YXRlID0geyBlZGl0aW5nOiBmYWxzZSB9O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IG9wZW5FZGl0ID0gKCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVkaXRpbmc6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNsb3NlRWRpdCA9ICgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0aW5nOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgY3JlYXRlTm90ZWJvb2sgPSAoTmV3Tm90ZWJvb2spID0+IHtcbiAgICAgIHRoaXMucHJvcHMuY3JlYXRlTm90ZWJvb2soTmV3Tm90ZWJvb2ssIChlcnIpID0+IHtcbiAgICAgICAgaWYoIWVycikgY2xvc2VFZGl0KCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gVE9ETyBTZWN0aW9uIDc6IFdyaXRlIGNvZGUgdG8gc3dpdGNoIHRvIGNyZWF0ZSBOZXcgbm90IGVkaXQgbW9kZSB3aGVuIGVkaXRpbmcgaXMgY2xpY2tlZFxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5lZGl0aW5nKSB7XG4gICAgICAvLyBSZW5kZXIgY29tcG9uZW50IGZvciBlZGl0aW5nIHRoZSBwb3N0XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Tm90ZWJvb2tFZGl0XG4gICAgICAgICAgTm90ZWJvb2s9e3RoaXMucHJvcHMuTm90ZWJvb2t9XG4gICAgICAgICAgb25TYXZlPXtjcmVhdGVOb3RlYm9va31cbiAgICAgICAgICBvbkNhbmNlbD17Y2xvc2VFZGl0fVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJibG9nLWxvYWQtbW9yZSBidG4gYnRuLXByaW1hcnkgYnRuLWxnXCJcbiAgICAgICAgb25DbGljaz17b3BlbkVkaXR9XG4gICAgICA+XG4gICAgICAgK05ld05vdGVib29rXG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTm90ZWJvb2tOZXc7XG4iLCJjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5jb25zdCBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcbi8vY29uc3QgTm90ZUxpc3QgPSByZXF1aXJlKCcuL05vdGVMaXN0Jyk7XG5jb25zdCBOb3RlTmV3ID0gcmVxdWlyZSgnLi9Ob3RlTmV3Jyk7XG5cbmNsYXNzIE5vdGVib29rVmlldyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICAgIGNvbnN0IG9uQ2xpY2tOb3RlYm9vayA9IChldmVudCkgPT4ge1xuICAgIFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMucHJvcHMubm90ZWJvb2suaWQpO1xuICAgIFx0dGhpcy5wcm9wcy5sb2FkRGF0YSh0aGlzLnByb3BzLm5vdGVib29rLmlkKTtcbiAgICAgIHRoaXMucHJvcHMuc2V0QWN0aXZlKHRoaXMucHJvcHMubm90ZWJvb2suaWQpOy8vIGFkZGVkIHRvIHRlc3QgYWN0aXZlIG5vdGVib29rXG5cbiAgfTtcblxuICBjb25zdCBEZWxldGVOb3RlYm9vayA9IChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5wcm9wcy5vbkRlbGV0ZSh0aGlzLnByb3BzLm5vdGVib29rLmlkKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJibG9nLW5vdGVib29rXCI+XG4gICAgICA8aDMgY2xhc3NOYW1lPVwiYmxvZy1ub3RlYm9vay10aXRsZVwiPlxuICAgICAgIDxhIG9uQ2xpY2s9e29uQ2xpY2tOb3RlYm9va30+XG4gICAgICAgIDxsaT57dGhpcy5wcm9wcy5ub3RlYm9vay50aXRsZX08L2xpPlxuICAgICAgIDwvYT5cbiAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e0RlbGV0ZU5vdGVib29rfSBjbGFzc05hbWU9J2J0biBidG4tZGFuZ2VyJz48aSBjbGFzc05hbWU9XCJmYSBmYS10cmFzaFwiPiBEZWxldGU8L2k+PC9idXR0b24+XG4gICAgICA8L2gzPlxuICAgIDwvZGl2PlxuICApO1xufTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBOb3RlYm9va1ZpZXc7IiwiLyoqXG4gKiBUaGUgcm9vdCBSZWFjdCBjb21wb25lbnQgZnJvbSB3aGljaCBhbGwgb3RoZXIgY29tcG9uZW50cyBvbiB0aGUgcGFnZSBhcmVcbiAqIGRlc2NlbmRlZC4gSXQgaXMgdGhpcyBjb21wb25lbnQgd2hpY2ggaXMgZGlyZWN0bHkgbW91bnRlZCBvbiB0aGUgRE9NLlxuICovXG5cbmNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbmNvbnN0IFJlYWN0UmVkdXggPSByZXF1aXJlKCdyZWFjdC1yZWR1eCcpO1xuXG5jb25zdCBQcm92aWRlciA9IFJlYWN0UmVkdXguUHJvdmlkZXI7XG5jb25zdCBIb21lID0gcmVxdWlyZSgnLi9Ib21lJyk7XG5cbi8vIEVuYWJsZSBkZXZlbG9wbWVudCB0b29scyB3aGVuIGluIGRldmVsb3BtZW50IG1vZGVcbmxldCBEZXZUb29scyA9ICdzcGFuJztcbmlmKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gIERldlRvb2xzID0gcmVxdWlyZSgnLi9EZXZUb29scycpO1xufVxuXG4vLyBEZWZpbmUgdGhlIFJvb3QgY29tcG9uZW50XG5jb25zdCBSb290ID0gcHJvcHMgPT4gKFxuICAvKiBUaGUgUHJvdmlkZXIgZ2l2ZXMgZGVzY2VuZGFudHMgdGhlIGFiaWxpdHkgdG8gY29ubmVjdCB0byB0aGUgUmVkdXggc3RvcmUgKi9cbiAgPFByb3ZpZGVyIHN0b3JlPXtwcm9wcy5zdG9yZX0+XG4gICAgPGRpdj5cbiAgICAgIHsvKiBUaGUgSG9tZSBjb21wb25lbnQgY29udGFpbnMgdGhlIGd1dHMgb2YgdGhlIHBhZ2UgKi99XG4gICAgICA8SG9tZSAvPlxuICAgICAgey8qIERldlRvb2xzIGlzIGp1c3QgYW4gZW1wdHkgZWxlbWVudCB3aGVuIG5vdCBpbiBkZXZlbG9wbWVudCBtb2RlICovfVxuICAgICAgPERldlRvb2xzIC8+XG4gICAgPC9kaXY+XG4gIDwvUHJvdmlkZXI+XG4pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJvb3Q7XG4iLCIvKipcbiAqIFRoaXMgaGVscGVyIGZpbGUgcHJvdmlkZXMgYSBzZXQgb2YgZnVuY3Rpb25zIGZvciBwZXJmb3JtaW5nIEhUVFAgcmVxdWVzdHMuXG4gKiBJdCB3aWxsIHdvcmsgb24gYm90aCB0aGUgYmFja2VuZCBhbmQgdGhlIGZyb250ZW5kLlxuICovXG5cbmNvbnN0IGFqYXggPSB7fTtcblxuaWYocHJvY2Vzcy5lbnYuSU5fQlJPV1NFUikge1xuICBhamF4LnJlcXVlc3QgPSBvcHRzID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoKSA9PiB7XG4gICAgICByZWplY3QobmV3IEVycm9yKCdSZXF1ZXN0IGZhaWxlZCcpKTtcbiAgICB9KTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgIGlmKHhoci5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKGBSZWNlaXZlZCBzdGF0dXMgJHt4aHIuc3RhdHVzfWApKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc29sdmUob3B0cy5qc29uID8gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KSA6IHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHhoci5vcGVuKG9wdHMubWV0aG9kLCBvcHRzLnVybCk7XG4gICAgaWYob3B0cy5qc29uKSB7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgIHhoci5zZW5kKG9wdHMuZGF0YSAhPT0gdW5kZWZpbmVkID8gSlNPTi5zdHJpbmdpZnkob3B0cy5kYXRhKSA6IG9wdHMuZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHhoci5zZW5kKG9wdHMuZGF0YSk7XG4gICAgfVxuICB9KTtcbn0gZWxzZSB7XG4gIGNvbnN0IHJlcXVlc3QgPSByZXF1aXJlKCdyZXF1ZXN0Jyk7XG5cbiAgYWpheC5yZXF1ZXN0ID0gb3B0cyA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgcmVxdWVzdCh7XG4gICAgICB1cmw6IG9wdHMudXJsLFxuICAgICAgbWV0aG9kOiBvcHRzLm1ldGhvZCxcbiAgICAgIGJvZHk6IG9wdHMuZGF0YSxcbiAgICAgIGpzb246IG9wdHMuanNvblxuICAgIH0sIChlcnJvciwgcmVzcG9uc2UsIGJvZHkpID0+IHtcbiAgICAgIGlmKGVycm9yKSB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9IGVsc2UgaWYocmVzcG9uc2Uuc3RhdHVzQ29kZSAhPT0gMjAwKSB7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoYFJlY2VpdmVkIHN0YXR1cyAke3Jlc3BvbnNlLnN0YXR1c0NvZGV9YCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZShib2R5KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYWpheDtcbiIsIi8qKlxuICogVGhpcyBoZWxwZXIgZmlsZSBwcm92aWRlcyBhIHNldCBvZiBmdW5jdGlvbnMgZm9yIGNvbW11bmljYXRpbmcgd2l0aCB0aGVcbiAqIGJhY2tlbmQgQVBJLiBJdCB3aWxsIHdvcmsgb24gYm90aCB0aGUgYmFja2VuZCBhbmQgdGhlIGZyb250ZW5kLlxuICovXG5cbmNvbnN0IGFqYXggPSByZXF1aXJlKCcuL2FqYXgnKTtcblxuY29uc3QgYXBpID0ge307XG5cbmlmKHByb2Nlc3MuZW52LklOX0JST1dTRVIpIHtcbiAgYXBpLmJhc2VVcmwgPSAnL2FwaSc7XG59IGVsc2Uge1xuICBhcGkuYmFzZVVybCA9ICdodHRwOi8vYXBpOjMwMDAnO1xufVxuXG5hcGkuZ2V0ID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gYWpheC5yZXF1ZXN0KHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogdGhpcy5iYXNlVXJsICsgcGF0aCxcbiAgICBqc29uOiB0cnVlXG4gIH0pO1xufTtcblxuYXBpLnBvc3QgPSBmdW5jdGlvbihwYXRoLCBkYXRhKSB7XG4gIHJldHVybiBhamF4LnJlcXVlc3Qoe1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIHVybDogdGhpcy5iYXNlVXJsICsgcGF0aCxcbiAgICBqc29uOiB0cnVlLFxuICAgIGRhdGFcbiAgfSk7XG59O1xuXG5hcGkucHV0ID0gZnVuY3Rpb24ocGF0aCwgZGF0YSkge1xuICByZXR1cm4gYWpheC5yZXF1ZXN0KHtcbiAgICBtZXRob2Q6ICdQVVQnLFxuICAgIHVybDogdGhpcy5iYXNlVXJsICsgcGF0aCxcbiAgICBqc29uOiB0cnVlLFxuICAgIGRhdGFcbiAgfSk7XG59O1xuXG5hcGkuZGVsZXRlID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gYWpheC5yZXF1ZXN0KHtcbiAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgIHVybDogdGhpcy5iYXNlVXJsICsgcGF0aCxcbiAgICBqc29uOiB0cnVlXG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBhcGk7XG4iLCIvKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGdpdmVuIGEgZGlzcGF0Y2ggZnVuY3Rpb24sIHJldHVybnMgYW5cbiAqIG9iamVjdCBjb250YWluaW5nIGEgYnVuY2ggb2YgYWN0aW9uIGRpc3BhdGNoZXJzLlxuICovXG5jb25zdCBjcmVhdGVBY3Rpb25EaXNwYXRjaGVycyA9ICguLi5hY3Rpb25DcmVhdG9yR3JvdXBzKSA9PiBkaXNwYXRjaCA9PlxuICAvLyBJdGVyYXRlIG92ZXIgYWN0aW9uQ3JlYXRvcnNBcnJheSwgd2hpY2ggaXMgYW4gYXJyYXkgb2YgYXJyYXlzIG9mIGFjdGlvblxuICAvLyBjcmVhdG9yc1xuICBhY3Rpb25DcmVhdG9yR3JvdXBzLnJlZHVjZSgoYWN0aW9uRGlzcGF0Y2hlcnMsIGFjdGlvbkNyZWF0b3JzKSA9PiB7XG4gICAgLy8gQWRkIGFuIGFjdGlvbiBkaXNwYXRjaGVyIGZvciBlYWNoIGFjdGlvbiBjcmVhdG9yIGluIGFjdGlvbkNyZWF0b3JzXG4gICAgT2JqZWN0LmtleXMoYWN0aW9uQ3JlYXRvcnMpXG4gICAgICAuZmlsdGVyKChuYW1lKSA9PiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzW25hbWVdID09PSAnZnVuY3Rpb24nKSlcbiAgICAgIC5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICAgIGFjdGlvbkRpc3BhdGNoZXJzW25hbWVdID0gZnVuY3Rpb24oLi4uYWN0aW9uQ3JlYXRvckFyZ3MpIHtcbiAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goYWN0aW9uQ3JlYXRvcnNbbmFtZV0uYXBwbHkodGhpcywgYWN0aW9uQ3JlYXRvckFyZ3MpKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBhY3Rpb25EaXNwYXRjaGVycztcbiAgfSwge30pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUFjdGlvbkRpc3BhdGNoZXJzO1xuIiwiLyoqXG4gKiBUaGlzIGhlbHBlciBmaWxlIHByb3ZpZGVzIGEgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIHRoZSBSZWR1eCBzdG9yZS4gSW5cbiAqIGRldmVsb3BtZW50IG1vZGUgaXQgd2lsbCBhbHNvIGNvbm5lY3QgdXAgdGhlIFJlZHV4IGRldmVsb3BtZW50IHRvb2xzIGZvclxuICogZGVidWdnaW5nIHB1cnBvc2VzLlxuICovXG5cbmNvbnN0IFJlZHV4ID0gcmVxdWlyZSgncmVkdXgnKTtcbmNvbnN0IHJlZHV4VGh1bmsgPSByZXF1aXJlKCdyZWR1eC10aHVuaycpLmRlZmF1bHQ7XG5jb25zdCBjb21iaW5lZFJlZHVjZXJzID0gcmVxdWlyZSgnLi4vcmVkdWNlcnMnKTtcblxubGV0IGZpbmFsQ3JlYXRlU3RvcmU7XG5cbmlmKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgZmluYWxDcmVhdGVTdG9yZSA9IFJlZHV4LmNvbXBvc2UoXG4gICAgLy8gRW5hYmxlcyBtaWRkbGV3YXJlXG4gICAgUmVkdXguYXBwbHlNaWRkbGV3YXJlKHJlZHV4VGh1bmspXG4gICkoUmVkdXguY3JlYXRlU3RvcmUpO1xufSBlbHNlIHtcbiAgY29uc3QgRGV2VG9vbHMgPSByZXF1aXJlKCcuLi9jb21wb25lbnRzL0RldlRvb2xzJyk7XG5cbiAgZmluYWxDcmVhdGVTdG9yZSA9IFJlZHV4LmNvbXBvc2UoXG4gICAgLy8gRW5hYmxlcyBtaWRkbGV3YXJlXG4gICAgUmVkdXguYXBwbHlNaWRkbGV3YXJlKHJlZHV4VGh1bmspLFxuICAgIC8vIEVuYWJsZXMgRGV2VG9vbHNcbiAgICBEZXZUb29scy5pbnN0cnVtZW50KClcbiAgKShSZWR1eC5jcmVhdGVTdG9yZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5pdGlhbFN0YXRlID0+IGZpbmFsQ3JlYXRlU3RvcmUoY29tYmluZWRSZWR1Y2VycywgaW5pdGlhbFN0YXRlKTtcbiIsIi8qKlxuICogU3BlY2lmeSBhbGwgb2YgeW91ciByZWR1Y2VycyBpbiB0aGlzIGZpbGUsIHNvIHRoZXkgY2FuIGJlIGNvbWJpbmVkIGludG9cbiAqIG9uZSBiaWcgcmVkdWNlci5cbiAqL1xuXG5jb25zdCBSZWR1eCA9IHJlcXVpcmUoJ3JlZHV4Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVkdXguY29tYmluZVJlZHVjZXJzKHtcbiAgbm90ZWJvb2tzOiByZXF1aXJlKCcuL25vdGVib29rcycpLFxuICBub3RlczogcmVxdWlyZSgnLi9ub3RlcycpLFxuICAvKiAqKiogVE9ETzogUHV0IGFueSBvdGhlciByZWR1Y2VycyBpbiBoZXJlICoqKiAqL1xuICAvLyBlZy4gYG5vdGVzOiByZXF1aXJlKCcuL25vdGVzJylgIGlmIHlvdSBoYXZlIGEgcmVkdWNlciBpbiByZWR1Y2Vycy9ub3Rlcy5qc1xufSk7XG4iLCJjb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5jb25zdCBhcGkgPSByZXF1aXJlKCcuLi9oZWxwZXJzL2FwaScpO1xuY29uc3Qgbm90ZXNBY3Rpb25SZWR1Y2VyID0gcmVxdWlyZSgnLi9ub3RlcycpO1xuXG4vLyBBY3Rpb24gdHlwZSBjb25zdGFudHNcbi8qICoqKiBUT0RPOiBQdXQgYWN0aW9uIGNvbnN0YW50cyBoZXJlICoqKiAqL1xuY29uc3QgU0VUX0FDVElWRSA9ICdibG9nLWZyb250ZW5kL25vdGVib29rcy9TRVRfQUNUSVZFJztcbmNvbnN0IElOU0VSVCA9ICdibG9nLWZyb250ZW5kL25vdGVib29rcy9JTlNFUlQnO1xuY29uc3QgUkVNT1ZFID0gJ2Jsb2ctZnJvbnRlbmQvbm90ZWJvb2tzL1JFTU9WRSc7XG5cbmNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgZGF0YTogW1xuICAgIHsgaWQ6IDEwMCwgdGl0bGU6ICdGcm9tIFJlZHV4IFN0b3JlOiBBIGhhcmQtY29kZWQgbm90ZWJvb2snIH0sXG4gICAgeyBpZDogMTAxLCB0aXRsZTogJ0Zyb20gUmVkdXggU3RvcmU6IEFub3RoZXIgaGFyZC1jb2RlZCBub3RlYm9vaycgfSxcbiAgXSxcbiAgYWN0aXZlTm90ZWJvb2tJZDogLTEsXG4gIG5vdGVzOiBbXSxcbn07XG5cbi8vIEZ1bmN0aW9uIHdoaWNoIHRha2VzIHRoZSBjdXJyZW50IGRhdGEgc3RhdGUgYW5kIGFuIGFjdGlvbixcbi8vIGFuZCByZXR1cm5zIGEgbmV3IHN0YXRlXG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pIHtcbiAgc3RhdGUgPSBzdGF0ZSB8fCBpbml0aWFsU3RhdGU7XG4gIGFjdGlvbiA9IGFjdGlvbiB8fCB7fTtcblxuICBzd2l0Y2goYWN0aW9uLnR5cGUpIHtcbiAgICAvKiAqKiogVE9ETzogUHV0IHBlci1hY3Rpb24gY29kZSBoZXJlICoqKiAqL1xuICAgIGNhc2UgSU5TRVJUOntcbiAgICAgIGNvbnN0IHVuc29ydGVkTm90ZWJvb2tzID0gXy5jb25jYXQoc3RhdGUuZGF0YSwgYWN0aW9uLm5vdGVib29rcyk7XG4gICAgICBjb25zdCBkYXRhID0gXy5vcmRlckJ5KHVuc29ydGVkTm90ZWJvb2tzLCAnY3JlYXRlZEF0JywnZGVzYycpO1xuICAgICAgLy8gUmV0dXJuIHVwZGF0ZWQgc3RhdGVcbiAgICAgIHJldHVybiBfLmFzc2lnbih7fSwgc3RhdGUsIHsgZGF0YX0gKTtcbiAgICB9XG5cbiAgICBjYXNlIFJFTU9WRToge1xuICAgICAgY29uc3QgZGF0YSA9IF8ucmVqZWN0KHN0YXRlLmRhdGEsIHtpZDogYWN0aW9uLmlkfSk7XG4gICAgICByZXR1cm4gXy5hc3NpZ24oe30sIHN0YXRlLCB7IGRhdGEgfSk7XG4gICAgfVxuXG4gICAgY2FzZSBTRVRfQUNUSVZFOiB7XG4gICAgICBjb25zb2xlLmxvZygnYWN0aXZlTm90ZWJvb2tJZCAgJyArIHN0YXRlLmFjdGl2ZU5vdGVib29rSWQpO1xuICAgIFx0cmV0dXJuIF8uYXNzaWduKHt9LCBzdGF0ZSwgeyBhY3RpdmVOb3RlYm9va0lkOiBhY3Rpb24ubm90ZWJvb2tJZCB9KTtcbiAgICB9XG5cbiAgICBkZWZhdWx0OiByZXR1cm4gc3RhdGU7XG4gIH1cbn1cblxuLy8gQWN0aW9uIGNyZWF0b3JzXG4vKiAqKiogVE9ETzogUHV0IGFjdGlvbiBjcmVhdG9ycyBoZXJlICoqKiAqL1xuLy8gSW5zZXJ0cyBub3RlYm9va3MgaW50byB0aGUgTm90ZWJvb2tMaXN0XG5yZWR1Y2VyLmluc2VydE5vdGVib29rcyA9IChub3RlYm9va3MpID0+IHtcbiAgcmV0dXJue3R5cGU6IElOU0VSVCwgbm90ZWJvb2tzfTtcbn07XG5cbi8vIFJlbW92ZXMgYSBwb3N0IGZyb20gdGhlIHZpc2libGUgcG9zdCBsaXN0XG5yZWR1Y2VyLnJlbW92ZU5vdGVib29rID0gKGlkKSA9PiB7XG4gIHJldHVybiB7IHR5cGU6IFJFTU9WRSwgaWQgfTtcbn07XG5cbnJlZHVjZXIuc2V0QWN0aXZlID0gKG5vdGVib29rSWQpID0+IHtcbiAgLy9jb25zb2xlLmxvZyhpZCk7XG4gIHJldHVybiB7dHlwZTogU0VUX0FDVElWRSwgbm90ZWJvb2tJZH07XG59O1xuXG4vLyBBdHRlbXB0cyB0byBzYXZlIG5vdGVib29rIGluIHNlcnZlci9kYXRhYmFzZSBhbmQgaW5zZXJ0cyBpdCBpbiBkYXRhIHRvIGRpc3BsYXlcbi8vIGluIGZyb250IGVuZFxucmVkdWNlci5jcmVhdGVOb3RlYm9vayA9IChuZXdOb3RlYm9vaywgY2FsbGJhY2spID0+IHtcbiAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgIGFwaS5wb3N0KCcvbm90ZWJvb2tzJywgbmV3Tm90ZWJvb2spLnRoZW4oKG5vdGVib29rKSA9PiB7XG4gICAgICAvLyBUaGlzIE5vdGVib29rIGlzIG9uZSB0aGF0IHRoZSBzdG9yZSByZXR1cm5zIHVzISBJdCBoYXMgTm90ZWJvb2sgaWQgaW5jcmVtZW50ZWQgdG8gdGhlIG5leHQgYXZhaWxhYmxlIGlkXG4gICAgICBkaXNwYXRjaChyZWR1Y2VyLmluc2VydE5vdGVib29rcyhbbm90ZWJvb2tdKSk7XG4gICAgICBjb25zb2xlLmxvZygnY3JlYXRlTm90ZWJvb2sgaW4gbm90ZWJvb2tzJyk7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gY3JlYXRlIE5vdGVib29rIFwiRlJPTSBub3RlYm9va3MgUkVEVUNFUlwiLiBBcmUgYWxsIG9mIHRoZSBmaWVsZHMgZmlsbGVkIGluIGNvcnJlY3RseT8nKTtcbiAgICB9KTtcbiAgfTtcbn07XG5cbi8vIEF0dGVtcHRzIHRvIGRlbGV0ZSBhIG5vdGVib29rIGZyb20gdGhlIHNlcnZlciBhbmQgcmVtb3ZlcyBpdCBmcm9tIHRoZSBkYXRhXG4vLyBOb3RlYm9vayBsaXN0IGlmIHN1Y2Nlc3NmdWxcbnJlZHVjZXIuZGVsZXRlTm90ZWJvb2sgPSAoaWQpID0+IHtcbiAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgIGFwaS5kZWxldGUoJy9ub3RlYm9va3MvJyArIGlkKS50aGVuKChub3RlYm9vaykgPT4ge1xuICAgICAgZGlzcGF0Y2gocmVkdWNlci5yZW1vdmVOb3RlYm9vayhpZCkpO1xuICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gZGVsZXRlIE5vdGVib29rLiAgQXJlIGFsbCBvZiB0aGUgZmllbGRzIGZpbGxlZCBpbiBjb3JyZWN0bHk/Jyk7XG4gICAgfSk7XG4gIH07XG59O1xuXG5yZWR1Y2VyLmxvYWREYXRhID0gKG5vdGVib29rSWQpID0+IHtcblx0cmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCcvbm90ZWJvb2tzLycgKyBub3RlYm9va0lkICsgJy9ub3RlcycpXG4gICAgICBkaXNwYXRjaChub3Rlc0FjdGlvblJlZHVjZXIubG9hZE5vdGVzKG5vdGVib29rSWQpKTtcbiAgICAgIC8vZGlzcGF0Y2goeyB0eXBlOiBTRVRfQUNUSVZFLCBub3RlYm9va0lkIH0pO1xuICB9O1xufTtcbi8qcmVkdWNlci5sb2FkRGF0YSA9IChub3RlYm9va0lkKSA9PiB7XG5cdHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogU0VUX0FDVElWRSwgbm90ZWJvb2tJZCB9KTtcbiAgICAgIGRpc3BhdGNoKG5vdGVzQWN0aW9uUmVkdWNlci5sb2FkTm90ZXMobm90ZWJvb2tJZCkpO1xuICB9O1xufTsqL1xuLy8gRXhwb3J0IHRoZSBhY3Rpb24gY3JlYXRvcnMgYW5kIHJlZHVjZXJcbm1vZHVsZS5leHBvcnRzID0gcmVkdWNlcjtcbiIsImNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IGFwaSA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvYXBpJyk7XG5jb25zdCBub3Rlc2Jvb2tzQWN0aW9uUmVkdWNlciA9IHJlcXVpcmUoJy4vbm90ZWJvb2tzJyk7XG5cbmNvbnN0IEZFVENIID0gJ2Jsb2ctZnJvbnRlbmQvbm90ZXMvRkVUQ0gnO1xuY29uc3QgR0VUX05PVEVTID0gJ2Jsb2ctZnJvbnRlbmQvbm90ZWJvb2tzL0dFVF9OT1RFUyc7XG5jb25zdCBJTlNFUlQgPSAnYmxvZy1mcm9udGVuZC9ub3Rlcy9JTlNFUlQnO1xuY29uc3QgQ0hBTkdFID0gJ2Jsb2ctZnJvbnRlbmQvbm90ZXMvQ0hBTkdFJztcbmNvbnN0IFJFTU9WRSA9ICdibG9nLWZyb250ZW5kL25vdGVzL1JFTU9WRSc7XG5cbmNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgbm90ZXM6IFtcbiAgXSxcbiAgbm90ZWJvb2tJZDogLTFcbn07XG5cbmZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUsIGFjdGlvbikge1xuICBzdGF0ZSA9IHN0YXRlIHx8IGluaXRpYWxTdGF0ZTtcbiAgYWN0aW9uID0gYWN0aW9uIHx8IHt9O1xuXG4gIHN3aXRjaChhY3Rpb24udHlwZSkge1xuICAgICAgLyogKioqIFRPRE86IFB1dCBwZXItYWN0aW9uIGNvZGUgaGVyZSAqKiogKi9cbiAgICAgIGNhc2UgSU5TRVJUOntcbiAgICAgIGNvbnN0IHVuc29ydGVkTm90ZXMgPSBfLmNvbmNhdChzdGF0ZS5ub3RlcywgYWN0aW9uLm5vdGUpO1xuICAgICAgY29uc3QgdmlzaWJsZU5vdGVzID0gXy5vcmRlckJ5KHVuc29ydGVkTm90ZXMsICdjcmVhdGVkQXQnLCdkZXNjJyk7XG4gICAgICAvLyBSZXR1cm4gdXBkYXRlZCBzdGF0ZVxuICAgICAgcmV0dXJuIF8uYXNzaWduKHt9LCBzdGF0ZSwge25vdGVzOnZpc2libGVOb3Rlc30gKTtcbiAgICB9XG5cblxuICAgIGNhc2UgR0VUX05PVEVTOiB7XG4gICAgICBjb25zdCBub3RlcyA9IF8ub3JkZXJCeShhY3Rpb24ubm90ZXMsICdjcmVhdGVkQXQnLCdkZXNjJyk7XG4gICAgICByZXR1cm4gXy5hc3NpZ24oe30sIHN0YXRlLCB7bm90ZXMsIG5vdGVib29rSWQ6IGFjdGlvbi5ub3RlYm9va0lkfSApO1xuICAgIH1cblxuICAgIGNhc2UgQ0hBTkdFOiB7XG4gICAgICBjb25zdCBub3RlcyA9IF8uY2xvbmUoc3RhdGUubm90ZXMpO1xuICAgICAgY29uc3QgY2hhbmdlZEluZGV4ID0gXy5maW5kSW5kZXgoc3RhdGUubm90ZXMsIHtpZDogYWN0aW9uLm5vdGUuaWQgfSlcbiAgICAgIG5vdGVzW2NoYW5nZWRJbmRleF0gPSBhY3Rpb24ubm90ZTtcbiAgICAgIHJldHVybiBfLmFzc2lnbih7fSwgc3RhdGUsIHsgbm90ZXMgfSk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlcyBhIHNpbmdsZSBwb3N0IGZyb20gdGhlIHZpc2libGUgcG9zdCBsaXN0XG4gICAgY2FzZSBSRU1PVkU6IHtcbiAgICAgIGNvbnN0IG5vdGVzID0gXy5yZWplY3Qoc3RhdGUubm90ZXMsIHtpZDogYWN0aW9uLmlkfSk7XG4gICAgICByZXR1cm4gXy5hc3NpZ24oe30sIHN0YXRlLCB7IG5vdGVzIH0pO1xuICAgIH1cblxuICAgIGRlZmF1bHQ6IHJldHVybiBzdGF0ZTtcbiAgfVxufVxuXG4vLyBBY3Rpb24gY3JlYXRvcnNcbi8qICoqKiBUT0RPOiBQdXQgYWN0aW9uIGNyZWF0b3JzIGhlcmUgKioqICovXG5yZWR1Y2VyLmluc2VydE5vdGVzID0gKG5vdGUpID0+IHtcbiAgcmV0dXJue3R5cGU6IElOU0VSVCwgbm90ZX07XG59O1xuXG4vLyBDaGFuZ2VzIGxvY2FsIHBvc3QgZGF0YVxucmVkdWNlci5jaGFuZ2VOb3RlID0gKG5vdGUpID0+IHtcbiAgcmV0dXJuIHsgdHlwZTogQ0hBTkdFLCBub3RlIH07XG59O1xuXG4vLyBEZWxldGUgTm90ZVxuLy8gUmVtb3ZlcyBhIHBvc3QgZnJvbSB0aGUgdmlzaWJsZSBub3RlIGxpc3RcbnJlZHVjZXIucmVtb3ZlTm90ZSA9IChpZCkgPT4ge1xuICByZXR1cm4geyB0eXBlOiBSRU1PVkUsIGlkIH07XG59O1xuXG4vLyBBdHRlbXB0cyB0byBkZWxldGUgYSBwb3N0IGZyb20gdGhlIHNlcnZlciBhbmQgcmVtb3ZlcyBpdCBmcm9tIHRoZSB2aXNpYmxlXG4vLyBwb3N0IGxpc3QgaWYgc3VjY2Vzc2Z1bFxucmVkdWNlci5kZWxldGVOb3RlID0gKG5vdGVJZCkgPT4ge1xuICAgLy8gVE9ETyBTZWN0aW9uIDg6IEFkZCBjb2RlIHRvIHBlcmZvcm0gZGVsZXRlXG4gICByZXR1cm4gKGRpc3BhdGNoKSA9PiB7XG4gICAgYXBpLmRlbGV0ZSgnL25vdGVzLycgKyBub3RlSWQpLnRoZW4oKCkgPT4ge1xuICAgICAgZGlzcGF0Y2gocmVkdWNlci5yZW1vdmVOb3RlKG5vdGVJZCkpO1xuICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gZGVsZXRlIG5vdGUuICBBcmUgYWxsIG9mIHRoZSBmaWVsZHMgZmlsbGVkIGluIGNvcnJlY3RseT8nKTtcbiAgICB9KTtcbiAgfTtcbn07XG5cbi8vIEF0dGVtcHRzIHRvIHVwZGF0ZSBhIHBvc3Qgb24gdGhlIHNlcnZlciBhbmQgdXBkYXRlcyBsb2NhbCBwb3N0IGRhdGEgaWZcbi8vIHN1Y2Nlc3NmdWxcbnJlZHVjZXIuc2F2ZU5vdGUgPSAoZWRpdGVkTm90ZSwgY2FsbGJhY2spID0+IHtcbiAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgIGFwaS5wdXQoJy9ub3Rlcy8nICsgZWRpdGVkTm90ZS5pZCwgZWRpdGVkTm90ZSkudGhlbigobm90ZSkgPT4ge1xuICAgICAgLy8gU2F2ZXMgbG9jYWwgcG9zdC5cbiAgICAgIGRpc3BhdGNoKHJlZHVjZXIuY2hhbmdlTm90ZShub3RlKSk7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gc2F2ZSBwb3N0LiAgQXJlIGFsbCBvZiB0aGUgZmllbGRzIGZpbGxlZCBpbiBjb3JyZWN0bHk/Jyk7XG4gICAgfSk7XG4gIH07XG59O1xuLy8gQXR0ZW1wdHMgdG8gc2F2ZSBub3RlIGluIHNlcnZlci9kYXRhYmFzZSBhbmQgaW5zZXJ0cyBpdCBpbiBkYXRhIHRvIGRpc3BsYXlcbi8vIGluIGZyb250IGVuZFxucmVkdWNlci5jcmVhdGVOb3RlPShub3RlLGNhbGxiYWNrKT0+e1xuICByZXR1cm4gKGRpc3BhdGNoKT0+e1xuICAgIGFwaS5wb3N0KCcvbm90ZXMnLG5vdGUpLnRoZW4oKG5vdGUpID0+IHtcbiAgICAgIC8vY29uc29sZS5sb2cobmV3Tm90ZUlkKTtcbiAgICAgIC8vIFRoaXMgTm90ZWJvb2sgaXMgb25lIHRoYXQgdGhlIHN0b3JlIHJldHVybnMgdXMhIEl0IGhhcyBOb3RlYm9vayBpZCBpbmNyZW1lbnRlZCB0byB0aGUgbmV4dCBhdmFpbGFibGUgaWRcbiAgICAgIGRpc3BhdGNoKHJlZHVjZXIuaW5zZXJ0Tm90ZXMobm90ZSkpO1xuICAgICAgLy9jYWxsYmFjaygpO1xuICAgIH0pXG4gICAgLmNhdGNoKGVycj0+YWxlcnQoZXJyLm1lc3NhZ2UpKTtcbiAgfTtcbn07XG5cbi8vIE1ldGhvZCB0byBsb2FkIG5vdGVzIHdoaWNoIGlzIGNhbGxlZCB2aWEgbm90ZWJvb2tzIHJlZHVjZXJcbnJlZHVjZXIubG9hZE5vdGVzID0gKG5vdGVib29rSWQpID0+IHtcblx0cmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgIGFwaS5nZXQoJy9ub3RlYm9va3MvJyArIG5vdGVib29rSWQgKyAnL25vdGVzJykudGhlbigobm90ZXMpID0+IHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogR0VUX05PVEVTLCBub3RlYm9va0lkLCBub3RlcyB9KVxuICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgKGVycm9yKTtcbiAgICB9KTtcbiB9O1xufTtcblxuLy8gQWN0aW9uIGNyZWF0b3IgZm9yIGxvYWRpbmcgYW4gbm90ZWJvb2sncyBub3Rlc1xubW9kdWxlLmV4cG9ydHMgPSByZWR1Y2VyOyJdfQ=="}